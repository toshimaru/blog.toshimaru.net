<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.1.1">Jekyll</generator><link href="https://blog.toshimaru.net/feed/by_tag/rails.xml" rel="self" type="application/atom+xml" /><link href="https://blog.toshimaru.net/" rel="alternate" type="text/html" /><updated>2020-10-25T21:19:08+09:00</updated><id>https://blog.toshimaru.net/feed/by_tag/rails.xml</id><title type="html">Hack Your Design!</title><subtitle>toshimaruã®æŠ€è¡“ç³»ãªãƒ–ãƒ­ã‚°</subtitle><author><name>Toshimaru</name></author><entry><title type="html">Kaigi on Railsã§ã€ŒFactoryBot the Right Wayã€ã‚’ç™ºè¡¨ã—ã¾ã—ãŸ</title><link href="https://blog.toshimaru.net/kaigi-on-rails/" rel="alternate" type="text/html" title="Kaigi on Railsã§ã€ŒFactoryBot the Right Wayã€ã‚’ç™ºè¡¨ã—ã¾ã—ãŸ" /><published>2020-10-07T00:00:00+09:00</published><updated>2020-10-08T00:00:00+09:00</updated><id>https://blog.toshimaru.net/kaigi-on-rails</id><content type="html" xml:base="https://blog.toshimaru.net/kaigi-on-rails/">&lt;p&gt;&lt;a href=&quot;https://kaigionrails.org/&quot;&gt;Kaigi on Rails&lt;/a&gt;ã§ã€ŒFactoryBot the Right Wayã€ã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ã§ç™ºè¡¨ã—ã¾ã—ãŸ&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ã‚¹ãƒ©ã‚¤ãƒ‰&quot;&gt;ã‚¹ãƒ©ã‚¤ãƒ‰&lt;/h2&gt;

&lt;script async=&quot;&quot; class=&quot;speakerdeck-embed&quot; data-id=&quot;8084985a97ce4b6685d8528388da9779&quot; data-ratio=&quot;1.77777777777778&quot; src=&quot;//speakerdeck.com/assets/embed.js&quot;&gt;&lt;/script&gt;

&lt;h2 id=&quot;ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–å‹•ç”»&quot;&gt;ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–å‹•ç”»&lt;/h2&gt;

&lt;p&gt;å‹•ç”»ã‚‚YouTubeã«ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã¨ã—ã¦ä¸ŠãŒã£ã¦ãŠã‚Šã¾ã™ã®ã§ã€éŸ³å£°ä»˜ãã§è´ããŸã„æ–¹ã¯ã“ã¡ã‚‰ã‚’ã©ã†ãã€‚&lt;/p&gt;

&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;ja&quot; dir=&quot;ltr&quot;&gt;å…ˆè¡Œã—ã¦ &lt;a href=&quot;https://twitter.com/toshimaru_e?ref_src=twsrc%5Etfw&quot;&gt;@toshimaru_e&lt;/a&gt; ã•ã‚“ã®å‹•ç”»ã‚’ã‚¢ãƒƒãƒ—ã—ã¾ã—ãŸï¼ä»–ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚‚é †æ¬¡å…¬é–‹ã—ã¦ã„ãã¾ã™ã®ã§ãŠæ¥½ã—ã¿ã«ï¼ &lt;a href=&quot;https://twitter.com/hashtag/kaigionrails?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#kaigionrails&lt;/a&gt;&lt;a href=&quot;https://t.co/duhoF1Xu1S&quot;&gt;https://t.co/duhoF1Xu1S&lt;/a&gt; &lt;a href=&quot;https://t.co/y3PRYVRlO8&quot;&gt;https://t.co/y3PRYVRlO8&lt;/a&gt;&lt;/p&gt;&amp;mdash; Kaigi on Rails (@kaigionrails) &lt;a href=&quot;https://twitter.com/kaigionrails/status/1312397413592653824?ref_src=twsrc%5Etfw&quot;&gt;October 3, 2020&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;https://platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;

&lt;h2 id=&quot;æ„Ÿæƒ³&quot;&gt;æ„Ÿæƒ³&lt;/h2&gt;

&lt;p&gt;ä»Šå›ã¯åˆã®ãƒ“ãƒ‡ã‚ªéŒ²ç”»ç™»å£‡ã§ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;ä»Šã¾ã§ã®ãƒªãƒ¢ãƒ¼ãƒˆç™»å£‡ï¼ˆ&lt;a href=&quot;/career-strategy-for-around-thirty-engineer/&quot;&gt;ã‚¢ãƒ©ã‚µãƒ¼ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ç”Ÿå­˜æˆ¦ç•¥&lt;/a&gt;ã€&lt;a href=&quot;/how-to-deal-with-fat-model/&quot;&gt;Fat Modelã®å€’ã—æ–¹&lt;/a&gt;ï¼‰ã¯åŸºæœ¬Zoomã‚’ä½¿ã£ãŸLIVEç™»å£‡ã ã£ãŸã®ã§ã€ä»Šå›åˆã‚ã¦éŒ²ç”»ç™»å£‡ã‚’çµŒé¨“ã§ãã¦è‰¯ã‹ã£ãŸã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;éŒ²ç”»ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¨ã—ã¦ã¯ä¸‹è¨˜ã‚’åˆ©ç”¨ã—ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ„ãƒ¼ãƒ«: Keynote&lt;/li&gt;
  &lt;li&gt;ã‚¹ãƒ©ã‚¤ãƒ‰éŒ²ç”»+éŸ³å£°éŒ²éŸ³: Keynoteã®ãƒ¬ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ©Ÿèƒ½ (with Krisp)
    &lt;ul&gt;
      &lt;li&gt;å‚è€ƒ: &lt;a href=&quot;https://support.apple.com/ja-jp/guide/keynote/tan8a5df9cc5/mac&quot;&gt;Macã®Keynoteã§ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚’éŒ²éŸ³ã™ã‚‹ - Apple ã‚µãƒãƒ¼ãƒˆ&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Backupç”¨éŸ³å£°éŒ²éŸ³: QuickTime Player
    &lt;ul&gt;
      &lt;li&gt;å‚è€ƒ: &lt;a href=&quot;https://support.apple.com/ja-jp/guide/quicktime-player/qtpf25d6f827/mac&quot;&gt;Macã®QuickTime Playerã§ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªã‚’éŒ²éŸ³ã™ã‚‹ - Apple ã‚µãƒãƒ¼ãƒˆ&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼å´ã®å‹•ç”»æ’®å½±: iPad&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;Kaigi on Railsã®ã‚³ã‚¢ã‚³ãƒ³ã‚»ãƒ—ãƒˆã¯ ã€Œåˆå­¦è€…ã‹ã‚‰ä¸Šç´šè€…ã¾ã§ãŒæ¥½ã—ã‚ã‚‹Webç³»ã®æŠ€è¡“ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã€ ã§ã™ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ã¨ã„ã†ã“ã¨ã§ã—ãŸãŒã€ä»Šå›ã®ç™ºè¡¨ã®å†…å®¹çš„ã«ã¯åˆå­¦è€…ã‚‚ãã“ãã“æ¥½ã—ã‚ã‚‹å†…å®¹ã«ãªã£ã¦ã„ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚å‚è€ƒã«ãªã£ãŸã®ãªã‚‰å¹¸ã„ã§ã™&lt;sup id=&quot;fnref:2&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;/p&gt;

&lt;blockquote class=&quot;twitter-tweet&quot; data-conversation=&quot;none&quot;&gt;&lt;p lang=&quot;ja&quot; dir=&quot;ltr&quot;&gt;&lt;a href=&quot;https://twitter.com/hashtag/kaigionrails?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#kaigionrails&lt;/a&gt; ç™ºè¡¨è³‡æ–™ãƒãƒ©è¦‹ã›ã€‚FactoryBotã‚’ã‚ˆã‚Šä¸Šæ‰‹ã«ä½¿ã„ã“ãªã—ãŸã„åˆç´šè€…ã€œä¸­ç´šè€…ãƒ¬ãƒ™ãƒ«ã®æ–¹ã«ã¯ãã“ãã“æœ‰ç›Šãªæƒ…å ±ã«ãªã£ã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã®ã§æ˜¯éğŸ˜Š &lt;a href=&quot;https://t.co/dQDOzP3BpX&quot;&gt;pic.twitter.com/dQDOzP3BpX&lt;/a&gt;&lt;/p&gt;&amp;mdash; toshimaru (@toshimaru_e) &lt;a href=&quot;https://twitter.com/toshimaru_e/status/1311079864070369280?ref_src=twsrc%5Etfw&quot;&gt;September 29, 2020&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;https://platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;

&lt;h2 id=&quot;ãŠã‚ã‚Š&quot;&gt;ãŠã‚ã‚Š&lt;/h2&gt;

&lt;p&gt;Kaigi on Railsã‚’ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§é–‹å‚¬ã—ã¦ãã ã•ã£ãŸãƒãƒ¼ãƒ•ã‚ªãƒ¼ã‚¬ãƒŠã‚¤ã‚¶ãƒ¼ã® &lt;a href=&quot;https://twitter.com/okuramasafumi&quot;&gt;@okuramasafumi&lt;/a&gt; ã‚’ã¯ã˜ã‚ã€é‹å–¶ã‚¹ã‚¿ãƒƒãƒ•ã®çš†ã•ã¾ã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒãƒªãƒ³ã‚¯&quot;&gt;å‚è€ƒãƒªãƒ³ã‚¯&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/thoughtbot/factory_bot/blob/master/GETTING_STARTED.md&quot;&gt;GETTING_STARTED.md&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/thoughtbot/factory_bot/blob/master/NAME.md&quot;&gt;Project Naming History&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/toshimaru/factory-bot-the-right-way&quot;&gt;toshimaru/factory-bot-the-right-way&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://fukabori.fm/episode/13&quot;&gt;13. ãƒšã‚¢ãƒ—ãƒ­ã‚„ãƒ†ã‚¹ãƒˆã®ç–‘å•ã¨ã‹ã€ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®è‚²æˆã¨ã‹ | fukabori.fm&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://sinsoku.hatenablog.com/entry/2017/04/09/214728&quot;&gt;Rails ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ - éŒ†ã³ã¤ã„ãŸãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ (factory_girl) - ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«SEã®æ†‚é¬±&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://magazine.rubyist.net/articles/kaigi_on_rails/index.html&quot;&gt;Rubyist Magazine: Kaigi on Rails ç‰¹é›†å·&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;ãŸã¶ã‚“æ–‡æ³•çš„ã«ã¯ã€ŒFactoryBot &lt;strong&gt;in&lt;/strong&gt; the right wayã€ã£ã¦ã®ãŒæ­£ã—ã„æ°—ãŒã™ã‚‹ã‘ã©ã€ã“ã¡ã‚‰ãŒã‚´ãƒ­ãŒè‰¯ã‹ã£ãŸã¨ã„ã†ã“ã¨ã§ãã‚Œã¯ã”æ„›å¬Œã§ã€‚ã€‚ã€‚Â &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;RailsDM2018ã§ç™ºè¡¨ã—ãŸã“ã¡ã‚‰ã®å†…å®¹ã‚‚ã‚ã‚ã›ã¦å‚è€ƒã«ã—ã¦ã„ãŸã ã‘ã‚‹ã¨ :pray: &lt;a href=&quot;/rdm2018-active-record-anti-patterns/&quot;&gt;railsdm2018ã§ã€ŒActiveRecordãƒ‡ãƒ¼ã‚¿å‡¦ç†ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã€ã‚’ç™ºè¡¨ã—ã¾ã—ãŸ&lt;/a&gt;Â &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name>Toshimaru</name></author><category term="presentation" /><category term="rspec" /><category term="rails" /><summary type="html">Kaigi on Railsã§ã€ŒFactoryBot the Right Wayã€ã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ã§ç™ºè¡¨ã—ã¾ã—ãŸ1ã€‚ ãŸã¶ã‚“æ–‡æ³•çš„ã«ã¯ã€ŒFactoryBot in the right wayã€ã£ã¦ã®ãŒæ­£ã—ã„æ°—ãŒã™ã‚‹ã‘ã©ã€ã“ã¡ã‚‰ãŒã‚´ãƒ­ãŒè‰¯ã‹ã£ãŸã¨ã„ã†ã“ã¨ã§ãã‚Œã¯ã”æ„›å¬Œã§ã€‚ã€‚ã€‚Â &amp;#8617;</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://blog.toshimaru.net/images/posts/kaigi-on-rails.png" /><media:content medium="image" url="https://blog.toshimaru.net/images/posts/kaigi-on-rails.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">éŠ€åº§Rails#21ã§ã€ŒFat Modelã®å€’ã—æ–¹ã€ã‚’ç™ºè¡¨ã—ã¾ã—ãŸ ã€œè³ªå•ãƒ»æ„Ÿæƒ³ç·¨ã€œ</title><link href="https://blog.toshimaru.net/how-to-deal-with-fat-model-after/" rel="alternate" type="text/html" title="éŠ€åº§Rails#21ã§ã€ŒFat Modelã®å€’ã—æ–¹ã€ã‚’ç™ºè¡¨ã—ã¾ã—ãŸ ã€œè³ªå•ãƒ»æ„Ÿæƒ³ç·¨ã€œ" /><published>2020-06-05T00:00:00+09:00</published><updated>2020-06-05T00:00:00+09:00</updated><id>https://blog.toshimaru.net/how-to-deal-with-fat-model-after</id><content type="html" xml:base="https://blog.toshimaru.net/how-to-deal-with-fat-model-after/">&lt;p&gt;æœ¬è¨˜äº‹ã¯ã€&lt;a href=&quot;/how-to-deal-with-fat-model/&quot;&gt;éŠ€åº§Rails#21ã§ã€ŒFat Modelã®å€’ã—æ–¹ã€ã‚’ç™ºè¡¨ã—ã¾ã—ãŸ&lt;/a&gt;ã€ã®å¾Œç·¨ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;å½“æ—¥ã‚ã£ãŸè³ªå•ã€ç™ºè¡¨ã—ã¦ã¿ã¦ã®æ„Ÿæƒ³ãªã©ã‚’æ›¸ããŸã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#å½“æ—¥ã®è³ªå•&quot; id=&quot;markdown-toc-å½“æ—¥ã®è³ªå•&quot;&gt;å½“æ—¥ã®è³ªå•&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#ãƒ•ã‚¡ã‚¤ãƒ«ã®ç½®ãå ´ã«ã¤ã„ã¦&quot; id=&quot;markdown-toc-ãƒ•ã‚¡ã‚¤ãƒ«ã®ç½®ãå ´ã«ã¤ã„ã¦&quot;&gt;ãƒ•ã‚¡ã‚¤ãƒ«ã®ç½®ãå ´ã«ã¤ã„ã¦&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#trailblazer-ã«ã¤ã„ã¦&quot; id=&quot;markdown-toc-trailblazer-ã«ã¤ã„ã¦&quot;&gt;trailblazer ã«ã¤ã„ã¦&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#åˆãƒªãƒ¢ãƒ¼ãƒˆç™»å£‡ã—ã¦ã¿ã¦&quot; id=&quot;markdown-toc-åˆãƒªãƒ¢ãƒ¼ãƒˆç™»å£‡ã—ã¦ã¿ã¦&quot;&gt;åˆãƒªãƒ¢ãƒ¼ãƒˆç™»å£‡ã—ã¦ã¿ã¦&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—&quot; id=&quot;markdown-toc-ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—&quot;&gt;ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#æ„Ÿæƒ³&quot; id=&quot;markdown-toc-æ„Ÿæƒ³&quot;&gt;æ„Ÿæƒ³&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#special-thanks&quot; id=&quot;markdown-toc-special-thanks&quot;&gt;Special Thanks&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å½“æ—¥ã®è³ªå•&quot;&gt;å½“æ—¥ã®è³ªå•&lt;/h2&gt;

&lt;h3 id=&quot;ãƒ•ã‚¡ã‚¤ãƒ«ã®ç½®ãå ´ã«ã¤ã„ã¦&quot;&gt;ãƒ•ã‚¡ã‚¤ãƒ«ã®ç½®ãå ´ã«ã¤ã„ã¦&lt;/h3&gt;

&lt;p&gt;è³ªå•ã®æ–‡è„ˆã¨ã—ã¦ã¯ã€ŒPOROãƒ•ã‚¡ã‚¤ãƒ«ã®ç½®ãå ´ã£ã¦ã©ã“ï¼Ÿã€ã¨ã„ã†å†…å®¹ã§ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;ç™ºè¡¨ä¸­ã§POROã¯ã€ŒModelã®è£œåŠ©è¼ªã€ã¨ã„ã†è¡¨ç¾ã‚’ã—ã¾ã—ãŸãŒã€å½¹å‰²ã¨ã—ã¦ã¯Modelã«ã‚ãŸã‚‹ã®ã§ç½®ãå ´æ‰€ã‚‚&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app/models&lt;/code&gt;é…ä¸‹ã§å•é¡Œãªã„ã¨è€ƒãˆã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ç‰¹åˆ¥ãªç½®ãå ´ã‚’ä½œã‚ŠãŸããªã£ã¦ã—ã¾ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€Railsã®æä¾›ã™ã‚‹MVCã®ãƒ¬ãƒ¼ãƒ«ã‚’é€¸è„±ã—ãªã„ç¯„å›²ã§ç‹¬è‡ªè·¯ç·šã‚’ä½œã£ã¦ã„ãã®ãŒå€‹äººçš„ã«ã¯è‰¯ã„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‹ãªã¨è€ƒãˆã¦ã„ã¾ã™ã€‚POROã‚’ãƒ¢ãƒ‡ãƒ«ã®å»¶é•·ç·šä¸Šã«ã‚ã‚‹ã‚‚ã®ã¨è€ƒãˆã‚Œã°ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app/models&lt;/code&gt;ã«POROãŒé…ç½®ã•ã‚Œã¦ã„ã‚‹ã®ã¯ä¸è‡ªç„¶ã§ã¯ãªã„ã‹ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã‚‚ã¡ã‚ã‚“ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app/models&lt;/code&gt; ã®å†…éƒ¨ã§ãƒ‰ãƒ¡ã‚¤ãƒ³æ¯ã«namespaceï¼ˆmoduleï¼‰ã‚’æŒãŸã›ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ§‹é€ åŒ–ã—ã¦ã„ãã®ã¯ã‚¢ãƒªã ã¨æ€ã„ã¾ã™ã€‚ä¾‹ãˆã°ä¸‹è¨˜ã®ä¾‹ã§ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;app/models
â”œâ”€â”€ application_record.rb
â”œâ”€â”€ domain1
â”‚Â Â  â””â”€â”€ plain_object.rb
â”œâ”€â”€ domain2
â”‚Â Â  â””â”€â”€ plain_object.rb
â”œâ”€â”€ domain3
â”‚Â Â  â””â”€â”€ plain_object.rb
|
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;app/models&lt;/code&gt;ã«ãƒ•ãƒ©ãƒƒãƒˆã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ã„ã¦ã„ãã¨ã€ãƒ†ãƒ¼ãƒ–ãƒ«æ•°å¢—åŠ ãƒ»ã‚³ãƒ¼ãƒ‰è‚¥å¤§åŒ–ã¨ã¨ã‚‚ã«ã‚‚ã®ã™ã”ã„æ•°ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚æ„å‘³ã®ã‚ã‚‹å˜ä½ã§ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆmoduleï¼‰ã‚’åˆ‡ã£ã¦ãŠãã®ã¯ä»Šã™ãã§ãã‚‹æ‰‹è»½ãªæ§‹é€ åŒ–ã¨ã„ã†æ„å‘³ã§ã€æ—©ã„ã†ã¡ã«å°å…¥ã—ã¦ãŠãã¨è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h3 id=&quot;trailblazer-ã«ã¤ã„ã¦&quot;&gt;trailblazer ã«ã¤ã„ã¦&lt;/h3&gt;

&lt;p&gt;ã€Œ&lt;a href=&quot;https://github.com/trailblazer/trailblazer&quot;&gt;trailblazer&lt;/a&gt; ã«ã¤ã„ã¦ã©ã†æ€ã†ï¼Ÿã€ã¨ã„ã†è©±ãŒã‚ã‚Šã¾ã—ãŸã€‚ä»Šå›ã®ç™ºè¡¨ã«ã‚ãŸã‚Štrailblazerã¯ãƒãƒ¼ãƒãƒ¼ã‚¯ã ã£ãŸã®ã§ã€å½“æ—¥ã¯ã€Œã¡ã‚ƒã‚“ã¨èª¿ã¹ã¦è§¦ã£ãŸã‚ã‘ã§ã¯ãªã„ã®ã§ã€æ­£ç›´ã‚ã‹ã‚Šã¾ã›ã‚“ã€ã¨ã„ã†å›ç­”ã‚’ã—ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;trailblazerè‡ªä½“ã¯ã€2015å¹´é ƒã«&lt;a href=&quot;https://devchat.tv/ruby-rogues/206-rr-trailblazer-with-nick-sutterer/&quot;&gt;Ruby Rogues Podcast&lt;/a&gt;ã§èã„ã¦çŸ¥ã£ã¦ã„ã¦ã€å½“æ™‚ã¯ã€Œã¸ã€œã€èˆˆå‘³æ·±ã„ã‚³ãƒ³ã‚»ãƒ—ãƒˆã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã ã‘ã©ã€Not for meã‹ãªã€œã€ã€ŒRailsã®MVCæ§‹é€ ã¨ã¯é•ã£ã¦å°é›£ã—ãã†ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã ãªã€œã€ãªã©ã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;ä»Šå›ã®ç™ºè¡¨ã‚’é€šã—ã¦æ”¹ã‚ã¦ trailblazer ã‚’è©•ä¾¡ã—ã¦ã¿ã‚‹ã¨ã€&lt;strong&gt;Railsã®å·¨å¤§åŒ–ã«ã¨ã‚‚ãªã£ã¦ç™ºç”Ÿã™ã‚‹ãƒšã‚¤ãƒ³ãƒã‚¤ãƒ³ãƒˆã‚’å›é¿ã™ã‚‹ãŸã‚ã«ã‚ˆãè€ƒãˆã‚‰ã‚ŒãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã &lt;/strong&gt; ã¨æ€ã„ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;trailblazer ã¯ã€Œé«˜åº¦ã«æŠ½è±¡åŒ–ï¼ˆhigh-level abstractionsï¼‰ã•ã‚ŒãŸRubyãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ã ã¨è¬³ã£ã¦ã„ã¾ã™ã€‚ã€Œä½•ã¨æ¯”ã¹ã¦é«˜åº¦ã‹ï¼Ÿã€ã¨ã„ã†ã¨ã€æ˜ã‚‰ã‹ã«ã€ŒRailsï¼ˆMVCã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼‰ã¨æ¯”ã¹ã¦é«˜åº¦ã ã€ã¨è€ƒãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å…·ä½“çš„ã«ã¯MVCã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨æ¯”ã¹ã¦ã€å¤§è¦æ¨¡åŒ–ã—ã¦ã‚‚ç ´ç¶»ã—ã«ãã„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ãªã£ã¦ã„ã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ginzarails-21/trailblazer.png&quot; alt=&quot;trailblazer&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä¸€æ–¹ã§trailblazerã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ä¸­ã«ã¯ã€ŒRailsã§ã‚‚gemã¨ã‹ä½¿ãˆã°è¡¨ç¾ã§ãã‚‹ã‚ˆã­ï¼Ÿã€ã£ã¦ã„ã†éƒ¨åˆ†ã‚‚ã‚ã‚‹ã®ã¯äº‹å®Ÿã ã¨æ€ã„ã¾ã™ã€‚trailblazerã®ã‚¢ãƒ‰ãƒãƒ³ãƒ†ãƒ¼ã‚¸ã¨ã—ã¦ã¯ &lt;strong&gt;gemæ‹¡å¼µãªã—&lt;/strong&gt; ã§ &lt;strong&gt;æ¨™æº–ã§&lt;/strong&gt; å®Ÿç¾ã§ãã‚‹ç‚¹ã¨è¨€ãˆã¾ã™ã€‚ç´ ã®çŠ¶æ…‹ã§ç ´ç¶»ã—ã«ãã„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒæä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;Hanamiã«ã‚‚å…±é€šã—ã¦è¨€ãˆã‚‹ã“ã¨ãªã®ã§ã™ãŒã€trailblazerã‚’æ¡ç”¨ã™ã‚‹ã¨ãã®ãƒ‡ã‚£ã‚¹ã‚¢ãƒ‰ãƒãƒ³ãƒ†ãƒ¼ã‚¸ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã—ã‚‡ã†ã‹ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;gemæ‹¡å¼µã«ä¹ã—ã„
    &lt;ul&gt;
      &lt;li&gt;ã‚„ã‚ŠãŸã„ã“ã¨ã‚’ã‚„ã‚Œã‚‹gemãŒè»¢ãŒã£ã¦ã„ã‚‹ã‹ï¼Ÿ&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ãƒãƒã£ãŸã¨ãã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒˆã®é›£ã—ã•
    &lt;ul&gt;
      &lt;li&gt;ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ååˆ†ã«ã‚ã‚‹ã‹ï¼Ÿ&lt;/li&gt;
      &lt;li&gt;ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¯æˆç†Ÿã—ã¦ã„ã‚‹ã‹ï¼Ÿ&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ãƒã‚°ã‚’è¸ã‚“ã ã¨ãã®å•é¡Œè§£æ±ºã®é›£ã—ã•
    &lt;ul&gt;
      &lt;li&gt;ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªãƒ¡ãƒ³ãƒ†ãƒŠã¯ã©ã‚Œã ã‘ã„ã‚‹ã‹ï¼Ÿ&lt;/li&gt;
      &lt;li&gt;ãƒã‚°ã‚’å ±å‘Šã—ãŸã‚‰ã™ãåå¿œã—ã¦ç›´ã—ã¦ãã‚Œã‚‹ã‹ï¼Ÿ&lt;/li&gt;
      &lt;li&gt;Pull Request ã‚’ upstream ã«ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ã«æŠ•ã’ã‚‹ã“ã¨ãŒã§ããã†ã‹ï¼Ÿ&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸Šè¿°ã—ãŸãƒ‡ãƒ¡ãƒªãƒƒãƒˆã‚’è€ƒãˆã‚‹ã¨ã€Hanamiãªã„ã—trailblazerãŒã©ã‚Œã ã‘å„ªç§€ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§ã‚ã£ã¦ã‚‚æ¡ç”¨ã¯æ…é‡ã«ãªã‚‰ã–ã‚‹ã‚’å¾—ãªã„ã¨è¨€ãˆã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;Ruby on Railsã®å„ªä½æ€§ã¯Ruby Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®åœ§å€’çš„ãƒ‡ãƒ•ã‚¡ã‚¯ãƒˆã«ãªã£ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚gemã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã‚„ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€ãƒ–ãƒ­ã‚°è¨˜äº‹ãŒã—ã£ã‹ã‚Šæ•´ã£ã¦ã„ã‚‹ã®ã¯åœ§å€’çš„ã‚¢ãƒ‰ãƒãƒ³ãƒ†ãƒ¼ã‚¸ã¨è¨€ãˆã‚‹ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚&lt;/p&gt;

&lt;h2 id=&quot;åˆãƒªãƒ¢ãƒ¼ãƒˆç™»å£‡ã—ã¦ã¿ã¦&quot;&gt;åˆãƒªãƒ¢ãƒ¼ãƒˆç™»å£‡ã—ã¦ã¿ã¦&lt;/h2&gt;

&lt;h3 id=&quot;ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—&quot;&gt;ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—&lt;/h3&gt;

&lt;p&gt;ä»Šå›ã®ç™ºè¡¨ãŒåˆã®&lt;a href=&quot;https://zoom.us/&quot;&gt;Zoom&lt;/a&gt;ã«ã‚ˆã‚‹ãƒªãƒ¢ãƒ¼ãƒˆç™»å£‡ã§ã—ãŸã€‚&lt;/p&gt;

&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;ja&quot; dir=&quot;ltr&quot;&gt;åˆãƒªãƒ¢ãƒ¼ãƒˆç™»å£‡ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— &lt;a href=&quot;https://twitter.com/hashtag/ginzarails?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#ginzarails&lt;/a&gt; &lt;a href=&quot;https://t.co/Ays780ImG9&quot;&gt;pic.twitter.com/Ays780ImG9&lt;/a&gt;&lt;/p&gt;&amp;mdash; toshimaru (@toshimaru_e) &lt;a href=&quot;https://twitter.com/toshimaru_e/status/1261229167036653570?ref_src=twsrc%5Etfw&quot;&gt;May 15, 2020&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;macOS + iPad ã®2ç”»é¢ã‚’&lt;a href=&quot;https://support.apple.com/ja-jp/HT210380&quot;&gt;Sidecar&lt;/a&gt;ã‚’ä½¿ã£ã¦å®Ÿç¾ã—ãŸå½¢ã¨ãªã‚Šã¾ã™ã€‚é€šå¸¸ç™»å£‡ã ã¨ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼ãƒãƒ¼ãƒˆã‚’æ‰‹å…ƒã®ãƒã‚·ãƒ³ã«æ˜ ã—ã¦ã€ãƒ—ãƒ¬ã‚¼ãƒ³è³‡æ–™ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚¿ã«æ˜ ã—ã¦â€¦ã¨ã™ã‚‹ã¨ã“ã‚ã§ã™ãŒã€ãƒªãƒ¢ãƒ¼ãƒˆç™»å£‡ã ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚¿ã«ã‚ãŸã‚‹éƒ¨åˆ†ãŒç„¡ã„ã®ã§ã‚µãƒ–ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã¯å¿…é ˆã ãªã¨æ„Ÿã˜ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;iframe style=&quot;width:120px;height:240px;&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot; frameborder=&quot;0&quot; src=&quot;//rcm-fe.amazon-adsystem.com/e/cm?lt1=_blank&amp;amp;bc1=000000&amp;amp;IS2=1&amp;amp;bg1=FFFFFF&amp;amp;fc1=000000&amp;amp;lc1=0000FF&amp;amp;t=toshimaru-22&amp;amp;language=ja_JP&amp;amp;o=9&amp;amp;p=8&amp;amp;l=as4&amp;amp;m=amazon&amp;amp;f=ifr&amp;amp;ref=as_ss_li_til&amp;amp;asins=B07PRX2Q11&amp;amp;linkId=496cfb91e959b3c29be79559c0666db9&quot;&gt;&lt;/iframe&gt;

&lt;iframe style=&quot;width:120px;height:240px;&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot; frameborder=&quot;0&quot; src=&quot;//rcm-fe.amazon-adsystem.com/e/cm?lt1=_blank&amp;amp;bc1=000000&amp;amp;IS2=1&amp;amp;bg1=FFFFFF&amp;amp;fc1=000000&amp;amp;lc1=0000FF&amp;amp;t=toshimaru-22&amp;amp;language=ja_JP&amp;amp;o=9&amp;amp;p=8&amp;amp;l=as4&amp;amp;m=amazon&amp;amp;f=ifr&amp;amp;ref=as_ss_li_til&amp;amp;asins=B07H27J698&amp;amp;linkId=aa0e907ba05d2a0e01a21b30e73d5b86&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;ãƒªãƒ¢ãƒ¼ãƒˆç™ºè¡¨ã¨ã„ã†ã“ã¨ã‚‚ã‚ã‚Šãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãŒä¸€ç•ªã®å¿ƒé…äº‹ã ã£ãŸã®ã§ã™ãŒã€Google WiFiãƒ«ãƒ¼ã‚¿ãƒ¼ â‡” macOS ã¨ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å„ªå…ˆåº¦ã‚’MAXã«ã—ã¦ã€5GHzå¸¯ã‚’æ´ã‚€ã‚ˆã†ã«ã—ã¦ç™ºè¡¨ã«è‡¨ã‚€ã“ã¨ã§ã€ç‰¹ã«å•é¡Œã¯ç™ºç”Ÿã—ã¾ã›ã‚“ã§ã—ãŸã€‚&lt;/p&gt;

&lt;iframe style=&quot;width:120px;height:240px;&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot; frameborder=&quot;0&quot; src=&quot;//rcm-fe.amazon-adsystem.com/e/cm?lt1=_blank&amp;amp;bc1=000000&amp;amp;IS2=1&amp;amp;bg1=FFFFFF&amp;amp;fc1=000000&amp;amp;lc1=0000FF&amp;amp;t=toshimaru-22&amp;amp;language=ja_JP&amp;amp;o=9&amp;amp;p=8&amp;amp;l=as4&amp;amp;m=amazon&amp;amp;f=ifr&amp;amp;ref=as_ss_li_til&amp;amp;asins=B084ZCV6M5&amp;amp;linkId=dd1f57286c1fe56f3d3bc5db74ef399e&quot;&gt;&lt;/iframe&gt;

&lt;iframe style=&quot;width:120px;height:240px;&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot; frameborder=&quot;0&quot; src=&quot;//rcm-fe.amazon-adsystem.com/e/cm?lt1=_blank&amp;amp;bc1=000000&amp;amp;IS2=1&amp;amp;bg1=FFFFFF&amp;amp;fc1=000000&amp;amp;lc1=0000FF&amp;amp;t=toshimaru-22&amp;amp;language=ja_JP&amp;amp;o=9&amp;amp;p=8&amp;amp;l=as4&amp;amp;m=amazon&amp;amp;f=ifr&amp;amp;ref=as_ss_li_til&amp;amp;asins=B01MAW2294&amp;amp;linkId=bdc1818106278e95163b1f29f12bfdd9&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;ã¾ãŸç™ºå£°ãŒã‚­ãƒ¬ã‚¤ã«é€šã‚‹ã‚ˆã†ã«ã€ãƒã‚¤ã‚ºã‚­ãƒ£ãƒ³ã‚»ãƒªãƒ³ã‚°Appãƒ»&lt;a href=&quot;https://krisp.ai/&quot;&gt;Krisp&lt;/a&gt;ã‚’å°å…¥ã—ã¦ã„ã¾ã—ãŸï¼ˆ&lt;a href=&quot;https://ref.krisp.ai/u/ud778344eb&quot;&gt;ã“ã¡ã‚‰&lt;/a&gt;ã‹ã‚‰ç™»éŒ²ã™ã‚‹ã¨ä¸€ãƒ¶æœˆç„¡æ–™ã§ä½¿ãˆã¾ã™ï¼‰ã€‚ãƒªãƒ¢ãƒ¼ãƒˆæ™‚ä»£ã«ã¯å¿…é ˆã€‚&lt;/p&gt;

&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;ja&quot; dir=&quot;ltr&quot;&gt;ãƒªãƒ¢ãƒ¼ãƒˆæˆ¦å›½æ™‚ä»£ã‚’ç”ŸãæŠœããŸã‚ã« Krisp ã‚’å¹´é–“è³¼èª­ã—ãŸ&lt;/p&gt;&amp;mdash; toshimaru (@toshimaru_e) &lt;a href=&quot;https://twitter.com/toshimaru_e/status/1252784955878305792?ref_src=twsrc%5Etfw&quot;&gt;April 22, 2020&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ„ãƒ¼ãƒ«ã¯ãŠãªã˜ã¿ã®&lt;a href=&quot;https://www.deckset.com/&quot;&gt;Deckset&lt;/a&gt;ã€‚ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã§ã¾ã¨ã‚ã‚‰ã‚Œã‚‹ã®ã¯Goodã€ä¸€æ–¹ã§ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’å‡ã‚ã†ã¨ã™ã‚‹ã¨ãƒ‘ãƒ¯ãƒã‚„ã‚­ãƒ¼ãƒãƒ¼ãƒˆã‚ˆã‚Šé€†ã«å¤§å¤‰ãªã®ã§ãã®ã¸ã‚“ã¯èª²é¡Œæ„Ÿã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æ„Ÿæƒ³&quot;&gt;æ„Ÿæƒ³&lt;/h3&gt;

&lt;p&gt;æ­£ç›´ãªæ°—æŒã¡ã‚’ã„ã†ã¨ã€ã€Œç™ºè¡¨ã™ã‚‹ãªã‚‰ã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼ãŒä½¿ãˆã¦ã€ã‚ªãƒ¼ãƒ‡ã‚£ã‚¨ãƒ³ã‚¹ã®é¡”ãƒ»åå¿œãŒè¦‹ã‚Œã¦ã€ç·Šå¼µæ„Ÿã‚’æŒã£ã¦è‡¨ã‚ã‚‹ãƒªã‚¢ãƒ«ç™»å£‡ãŒè‰¯ã„ã‹ãªãƒ¼ã€ã£ã¦è€ƒãˆã ã£ãŸã®ã§ã™ãŒã€ã‚³ãƒ­ãƒŠãŒé•·æœŸåŒ–ã—ãã†ãªçŠ¶æ³ã‚’é‘‘ã¿ã¦ä»Šå›ã®ãƒªãƒ¢ãƒ¼ãƒˆç™»å£‡ã«ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;å®Ÿéš›ã«ã‚„ã£ã¦ã¿ã¦è‰¯ã‹ã£ãŸã“ã¨ã¨ã—ã¦ã¯ã€ãŠå®¶ç’°å¢ƒã§æ¤…å­ã«åº§ã£ã¦ãƒãƒ³ãƒ“ãƒªç™ºè¡¨ã§ãã‚‹ã®ã§ãã“ã¾ã§ç–²ã‚Œãªã„ã¨ã„ã†ç‚¹ã§ã—ãŸã€‚ã‚ã¨Zoomã¯ãƒªãƒ¢ãƒ¼ãƒˆç™»å£‡ã«ã¯ã¨ã¦ã‚‚ä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«ï¼ˆè‰¯ã„èƒŒæ™¯ç”»åƒãŒç„¡ã‹ã£ãŸã®ã§ä»Šå›ã¯ãƒãƒ¼ãƒãƒ£ãƒ«èƒŒæ™¯ã‚’ä½¿ã‚ãªã‹ã£ãŸã®ãŒè‹¥å¹²å¾Œæ‚”ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;é€†ã«é›£ã—ã„ãªã¨æ€ã£ãŸã®ã¯ã‚„ã£ã±ã‚Šã‚ªãƒ¼ãƒ‡ã‚£ã‚¨ãƒ³ã‚¹ã®åå¿œãŒè¦‹ãˆãªã„ç‚¹ã€‚ã“ã“ã¯é‹å–¶å´ã§&lt;a href=&quot;http://commentscreen.com/&quot;&gt;Comment Screen&lt;/a&gt;ç’°å¢ƒã‚’ç”¨æ„ã—ã¦ã‚‚ã‚‰ãˆãŸã“ã¨ã§ã€ç™ºè¡¨ä¸­ã®ã‚ªãƒ¼ãƒ‡ã‚£ã‚¨ãƒ³ã‚¹ã¸ã®è³ªå•ã‚„åå¿œã¯ã‚ã‚‹ç¨‹åº¦è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ã¾ãŸã“ã‚Œã¯ç™»å£‡è€…å´ãƒ»å‚åŠ è€…å´ã©ã¡ã‚‰ã§ã‚‚ãã†ãªã®ã§ã™ãŒã€ãƒªã‚¢ãƒ«ç¾å ´ã§ã®æ‡‡è¦ªä¼šã®ã‚ˆã†ã«ç™ºè¡¨å¾Œã«ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ã«è©±ã›ãªã„ã®ã¯ã¡ã‚‡ã£ã¨æ®‹å¿µã ãªãƒ¼ã¨æ€ã†ç‚¹ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ç·ã˜ã¦ãƒªãƒ¢ãƒ¼ãƒˆç™»å£‡ã‚’åˆã‚ã¦ã®ä½“é¨“ã§ãã¦ã‚ˆã‹ã£ãŸã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã‚ã¨ä»Šå›ã„ãŸã ã„ãŸ30åˆ†ã¨ã„ã†å°ºã¯ã‚ã‚‹ç¨‹åº¦ã¾ã¨ã¾ã£ãŸé‡ã®ç™ºè¡¨ã‚’ã‚†ã£ãã‚Šé€²è¡Œã™ã‚‹ã«ã¯ä¸åº¦è‰¯ã„å°ºã§ã—ãŸã€‚ãã‚Œä»¥ä¸Šã®é•·ã•ã«ãªã‚‹ã¨ç™ºè¡¨è€…å´ã‚‚ã‚ªãƒ¼ãƒ‡ã‚£ã‚¨ãƒ³ã‚¹å´ã‚‚ãƒ€ãƒ¬ãã†ã ãªãã¨ã„ã†å°è±¡ã€‚&lt;/p&gt;

&lt;h2 id=&quot;special-thanks&quot;&gt;Special Thanks&lt;/h2&gt;

&lt;p&gt;æœ¬ç™ºè¡¨ã¯ã‚‚ã¨ã‚‚ã¨éŠ€åº§Rails#18ã§ç™ºè¡¨äºˆå®šã ã£ãŸã‚‚ã®ã§ã™ã€‚æ”¹ã‚ã¦ã®ç™ºè¡¨æ©Ÿä¼šã‚’ã„ãŸã ãã€éŠ€åº§Railsé‹å–¶ã®çš†æ§˜ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;ja&quot; dir=&quot;ltr&quot;&gt;ã‚¤ãƒ™ãƒ³ãƒˆã‚­ãƒ£ãƒ³ã‚»ãƒ«ã«ã‚ˆã£ã¦ãŠè”µå…¥ã‚Šã—ãŸç™ºè¡¨è³‡æ–™ã€‚æ™®é€šã«å–‹ã£ãŸã‚‰20åˆ†è¶…ãˆã®å¤§ä½œã ã£ãŸã ã‘ã«æ®‹å¿µã€‚ã€‚ã€‚ã‚³ãƒ­ãƒŠãŒè½ã¡ç€ãã¾ã§ã¯è”µå‡ºã—ã›ãšã«å¯ã‹ã›ã¦ãŠãã‹ãª...ğŸ˜· &lt;a href=&quot;https://t.co/Qzu2YNQyve&quot;&gt;pic.twitter.com/Qzu2YNQyve&lt;/a&gt;&lt;/p&gt;&amp;mdash; toshimaru (@toshimaru_e) &lt;a href=&quot;https://twitter.com/toshimaru_e/status/1229425295930716160?ref_src=twsrc%5Etfw&quot;&gt;February 17, 2020&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;Rails Model ã®é™ç•Œã‚’è€ƒãˆã‚‹ã«ã‚ãŸã‚Šã€&lt;a href=&quot;https://twitter.com/_yasaichi&quot;&gt;yasaichiã•ã‚“&lt;/a&gt;ã€&lt;a href=&quot;https://github.com/hshimoyama&quot;&gt;hshiroyamaã•ã‚“&lt;/a&gt;ã®ç™ºè¡¨ã‚’å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;script async=&quot;&quot; class=&quot;speakerdeck-embed&quot; data-id=&quot;b5579c5fa5fa4e479ec81fda3b231eb2&quot; data-ratio=&quot;1.33333333333333&quot; src=&quot;//speakerdeck.com/assets/embed.js&quot;&gt;&lt;/script&gt;

&lt;script async=&quot;&quot; class=&quot;speakerdeck-embed&quot; data-id=&quot;ce30c3cf9433471283e24855f6bdd2b4&quot; data-ratio=&quot;1.77777777777778&quot; src=&quot;//speakerdeck.com/assets/embed.js&quot;&gt;&lt;/script&gt;

&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;ja&quot; dir=&quot;ltr&quot;&gt;1å¹´å‰ã«ã€ŒRuby on Railsã®æ­£ä½“ã¨å‘ãåˆã„æ–¹ã€ã¨ã„ã†ãƒ†ãƒ¼ãƒã§ç™»å£‡ã—ãŸã¨ãã«ã€æ™‚é–“ã®é–¢ä¿‚ã§è¨€åŠã§ããªã‹ã£ãŸã€Œã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ™ãƒ«ã®å‘ãåˆã„æ–¹ã€ã®è©³ç´°ãŒç¶ºéº—ã«æ•´ç†ã•ã‚ŒãŸä¸Šã§ã¾ã¨ã¾ã£ã¦ã„ã¦ã€ã„ãŸãæ„Ÿå‹•ã—ã¦ã—ã¾ã£ãŸã€‚ãŠã™ã™ã‚ / Fat Modelã®å€’ã—æ–¹ / how to deal with fat model &lt;a href=&quot;https://t.co/0vMubQfiLb&quot;&gt;https://t.co/0vMubQfiLb&lt;/a&gt;&lt;/p&gt;&amp;mdash; (ã‚„ã•ã„ã¡|yasaichi) (@_yasaichi) &lt;a href=&quot;https://twitter.com/_yasaichi/status/1264889633332060160?ref_src=twsrc%5Etfw&quot;&gt;May 25, 2020&lt;/a&gt;&lt;/blockquote&gt;</content><author><name>Toshimaru</name></author><category term="presentation" /><category term="rails" /><summary type="html">æœ¬è¨˜äº‹ã¯ã€éŠ€åº§Rails#21ã§ã€ŒFat Modelã®å€’ã—æ–¹ã€ã‚’ç™ºè¡¨ã—ã¾ã—ãŸã€ã®å¾Œç·¨ã«ãªã‚Šã¾ã™ã€‚</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://blog.toshimaru.net/images/posts/ginzarails-21/og2.jpg" /><media:content medium="image" url="https://blog.toshimaru.net/images/posts/ginzarails-21/og2.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">éŠ€åº§Rails#21ã§ã€ŒFat Modelã®å€’ã—æ–¹ã€ã‚’ç™ºè¡¨ã—ã¾ã—ãŸ</title><link href="https://blog.toshimaru.net/how-to-deal-with-fat-model/" rel="alternate" type="text/html" title="éŠ€åº§Rails#21ã§ã€ŒFat Modelã®å€’ã—æ–¹ã€ã‚’ç™ºè¡¨ã—ã¾ã—ãŸ" /><published>2020-06-01T00:00:00+09:00</published><updated>2020-06-05T00:00:00+09:00</updated><id>https://blog.toshimaru.net/how-to-deal-with-fat-model</id><content type="html" xml:base="https://blog.toshimaru.net/how-to-deal-with-fat-model/">&lt;p&gt;&lt;a href=&quot;https://ginza-rails.connpass.com/event/173610/&quot;&gt;éŠ€åº§Rails#21&lt;/a&gt;ã§ã€ŒFat Modelã®å€’ã—æ–¹ã€ã¨é¡Œã—ã¦ç™ºè¡¨ã—ã¦ãã¾ã—ãŸã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç™ºè¡¨ã‚¹ãƒ©ã‚¤ãƒ‰&quot;&gt;ç™ºè¡¨ã‚¹ãƒ©ã‚¤ãƒ‰&lt;/h2&gt;

&lt;script async=&quot;&quot; class=&quot;speakerdeck-embed&quot; data-id=&quot;fa367404507c4311aa3eeb087fc45a6e&quot; data-ratio=&quot;1.33333333333333&quot; src=&quot;//speakerdeck.com/assets/embed.js&quot;&gt;&lt;/script&gt;

&lt;h2 id=&quot;ç›®æ¬¡&quot;&gt;ç›®æ¬¡&lt;/h2&gt;

&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#ç™ºè¡¨ã‚¹ãƒ©ã‚¤ãƒ‰&quot; id=&quot;markdown-toc-ç™ºè¡¨ã‚¹ãƒ©ã‚¤ãƒ‰&quot;&gt;ç™ºè¡¨ã‚¹ãƒ©ã‚¤ãƒ‰&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ç›®æ¬¡&quot; id=&quot;markdown-toc-ç›®æ¬¡&quot;&gt;ç›®æ¬¡&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#fat-rails-stage&quot; id=&quot;markdown-toc-fat-rails-stage&quot;&gt;Fat Rails Stage&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#fat-modelå¯¾å‡¦ã®ãŸã‚ã®ï¼“ã¤ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ&quot; id=&quot;markdown-toc-fat-modelå¯¾å‡¦ã®ãŸã‚ã®ï¼“ã¤ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ&quot;&gt;Fat Modelå¯¾å‡¦ã®ãŸã‚ã®ï¼“ã¤ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#rails-modelã®é™ç•Œ&quot; id=&quot;markdown-toc-rails-modelã®é™ç•Œ&quot;&gt;Rails Modelã®é™ç•Œ&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#rails-modelã¯ãªãœè¾›ããªã‚‹ã®ã‹&quot; id=&quot;markdown-toc-rails-modelã¯ãªãœè¾›ããªã‚‹ã®ã‹&quot;&gt;Rails Modelã¯ãªãœè¾›ããªã‚‹ã®ã‹ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ç›®æŒ‡ã™ã¹ãã‚´ãƒ¼ãƒ«&quot; id=&quot;markdown-toc-ç›®æŒ‡ã™ã¹ãã‚´ãƒ¼ãƒ«&quot;&gt;ç›®æŒ‡ã™ã¹ãã‚´ãƒ¼ãƒ«&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#rails-way&quot; id=&quot;markdown-toc-rails-way&quot;&gt;Rails Way&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#concerns&quot; id=&quot;markdown-toc-concerns&quot;&gt;Concerns&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#sti&quot; id=&quot;markdown-toc-sti&quot;&gt;STI&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#polymorphic-association&quot; id=&quot;markdown-toc-polymorphic-association&quot;&gt;Polymorphic Association&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#accepts_nested_attributes_for&quot; id=&quot;markdown-toc-accepts_nested_attributes_for&quot;&gt;accepts_nested_attributes_for&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ãã®ä»–ç´°ã‹ã‚ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯&quot; id=&quot;markdown-toc-ãã®ä»–ç´°ã‹ã‚ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯&quot;&gt;ãã®ä»–ç´°ã‹ã‚ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#rails-wayã¾ã¨ã‚&quot; id=&quot;markdown-toc-rails-wayã¾ã¨ã‚&quot;&gt;ã€ŒRails Wayã€ã¾ã¨ã‚&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#sub-rails-way&quot; id=&quot;markdown-toc-sub-rails-way&quot;&gt;Sub-Rails Way&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#view-model&quot; id=&quot;markdown-toc-view-model&quot;&gt;View Model&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#æ¨©é™ç®¡ç†èªå¯&quot; id=&quot;markdown-toc-æ¨©é™ç®¡ç†èªå¯&quot;&gt;æ¨©é™ç®¡ç†ãƒ»èªå¯&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#interactor&quot; id=&quot;markdown-toc-interactor&quot;&gt;Interactor&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ç‰¹å®šã®èª²é¡Œã®è§£æ±º&quot; id=&quot;markdown-toc-ç‰¹å®šã®èª²é¡Œã®è§£æ±º&quot;&gt;ç‰¹å®šã®èª²é¡Œã®è§£æ±º&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ãã‚Œrailsã§ã§ãã‚‹ã‚ˆ&quot; id=&quot;markdown-toc-ãã‚Œrailsã§ã§ãã‚‹ã‚ˆ&quot;&gt;ã€Œãã‚ŒRailsã§ã§ãã‚‹ã‚ˆã€&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#ãã‚Œrubyã§ã§ãã‚‹ã‚ˆ&quot; id=&quot;markdown-toc-ãã‚Œrubyã§ã§ãã‚‹ã‚ˆ&quot;&gt;ã€Œãã‚ŒRubyã§ã§ãã‚‹ã‚ˆã€&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#saasã«åˆ‡ã‚Šå‡ºã™&quot; id=&quot;markdown-toc-saasã«åˆ‡ã‚Šå‡ºã™&quot;&gt;SaaSã«åˆ‡ã‚Šå‡ºã™&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#sub-rails-wayã¾ã¨ã‚&quot; id=&quot;markdown-toc-sub-rails-wayã¾ã¨ã‚&quot;&gt;ã€ŒSub-Rails Wayã€ã¾ã¨ã‚&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#non-rails-way&quot; id=&quot;markdown-toc-non-rails-way&quot;&gt;Non-Rails Way&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#form-model&quot; id=&quot;markdown-toc-form-model&quot;&gt;Form Model&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#poro&quot; id=&quot;markdown-toc-poro&quot;&gt;PORO&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#service-class&quot; id=&quot;markdown-toc-service-class&quot;&gt;Service Class&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#1-table-multiple-models&quot; id=&quot;markdown-toc-1-table-multiple-models&quot;&gt;1 Table Multiple Models&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#non-rails-wayã¾ã¨ã‚&quot; id=&quot;markdown-toc-non-rails-wayã¾ã¨ã‚&quot;&gt;ã€ŒNon-Rails Wayã€ã¾ã¨ã‚&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å…¨ä½“ã®ã¾ã¨ã‚&quot; id=&quot;markdown-toc-å…¨ä½“ã®ã¾ã¨ã‚&quot;&gt;å…¨ä½“ã®ã¾ã¨ã‚&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å‚è€ƒè³‡æ–™&quot; id=&quot;markdown-toc-å‚è€ƒè³‡æ–™&quot;&gt;å‚è€ƒè³‡æ–™&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#å¾Œç·¨è³ªå•æ„Ÿæƒ³ç·¨&quot; id=&quot;markdown-toc-å¾Œç·¨è³ªå•æ„Ÿæƒ³ç·¨&quot;&gt;å¾Œç·¨ï¼ˆè³ªå•ãƒ»æ„Ÿæƒ³ç·¨ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;fat-rails-stage&quot;&gt;Fat Rails Stage&lt;/h2&gt;

&lt;p&gt;è‚¥å¤§åŒ–ã—ãŸRailsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆFat Rails Applicationï¼‰ã«ãŠã„ã¦æœ€ã‚‚è¾›ã„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¯ã©ã“ã§ã—ã‚‡ã†ã‹ï¼Ÿ&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Fat View&lt;/li&gt;
  &lt;li&gt;Fat Controller&lt;/li&gt;
  &lt;li&gt;Fat Model&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;åƒ•ã¯Fat Modelã ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹è¨˜ã¯ã€ŒRailsãŒã©ã®ã‚ˆã†ã«Fatã«ãªã£ã¦ã„ãã‹ã€æ®µéšã‚’ç¤ºã—ãŸè¡¨ã§ã™ã€‚&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Fat Stage&lt;/th&gt;
      &lt;th&gt;Railsç¿’ç†Ÿåº¦&lt;/th&gt;
      &lt;th&gt;Fat Layer&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;ä½&lt;/td&gt;
      &lt;td&gt;Fat View&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;ä¸­&lt;/td&gt;
      &lt;td&gt;Fat Controller&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;é«˜&lt;/td&gt;
      &lt;td&gt;Fat Model&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ã¾ãšã¯Fatã‚¹ãƒ†ãƒ¼ã‚¸1ã€‚Railsã¨ã„ã†ã‚‚ã®ã‚’å…¨ç„¶çŸ¥ã‚‰ãªã„è¶…åˆå¿ƒè€…ãŒé™¥ã‚‹ã‚¹ãƒ†ãƒ¼ã‚¸ã§ã™ã€‚ãƒ“ãƒ¥ãƒ¼ã«ä½•ã§ã‚‚ã‹ã‚“ã§ã‚‚ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ›¸ã„ã¡ã‚ƒã†ã€‚ãã®çµæœãŒFat Viewã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;æ¬¡ã«Fatã‚¹ãƒ†ãƒ¼ã‚¸2ã€‚ã‚ã‚‹ç¨‹åº¦Railsã«æ…£ã‚Œã¦ããŸé–‹ç™ºè€…ãŒé™¥ã‚‹ã‚¹ãƒ†ãƒ¼ã‚¸ã§ã™ã€‚Modelã¸ã®ãƒ­ã‚¸ãƒƒã‚¯åˆ†é›¢ãŒã†ã¾ãã§ããšã€Controllerã«ãƒ­ã‚¸ãƒƒã‚¯ãŒé›†ä¸­ã™ã‚‹ã€‚ãã®çµæœã¯Fat Controllerã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;æœ€å¾ŒãŒFatã‚¹ãƒ†ãƒ¼ã‚¸3ã€‚Railsã‚’ç¿’ç†Ÿã—ãŸã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã‚ã‚Œã°Modelã«ãƒ­ã‚¸ãƒƒã‚¯ã‚’å¯„ã›ã¦ã„ãã®ãŒå®šçŸ³ã§ã™ã€‚ãã®çµæœå‡ºæ¥ä¸ŠãŒã‚‹ã®ã¯Fat Modelã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã“ã®ã‚ˆã†ã« &lt;strong&gt;ã©ã‚“ãªã«Railsã«ç¿’ç†Ÿã—ã¦ã‚ˆã†ã¨æœ€çµ‚çš„ã«ã¶ã¤ã‹ã‚‹å£ãŒFat Model&lt;/strong&gt; ã§ã™ã€‚&lt;/p&gt;

&lt;h2 id=&quot;fat-modelå¯¾å‡¦ã®ãŸã‚ã®ï¼“ã¤ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ&quot;&gt;Fat Modelå¯¾å‡¦ã®ãŸã‚ã®ï¼“ã¤ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ&lt;/h2&gt;

&lt;p&gt;Fat Modelã‚’å€’ã™ãŸã‚ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¨ã—ã¦ã€åƒ•ã¯ä¸‹è¨˜ã®3ã¤ã«åˆ†ã‘ã¦æ•´ç†ã™ã‚Œã°è‰¯ã„ã®ã§ã¯ã¨è€ƒãˆã¾ã—ãŸã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Rails Way&lt;/li&gt;
  &lt;li&gt;Sub-Rails Way&lt;/li&gt;
  &lt;li&gt;Non-Rails Way&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;rails-modelã®é™ç•Œ&quot;&gt;Rails Modelã®é™ç•Œ&lt;/h2&gt;

&lt;p&gt;ãªãœRailsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®Modelå±¤ã¯é™ç•Œã‚’è¿ãˆã¦ã—ã¾ã†ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ&lt;/p&gt;

&lt;p&gt;Railsã®åŸå§‹çš„ãªçŠ¶æ…‹ã¯ã€1ã¤ã®Modelã«1ã¤ã®ControllerãŒçµã³ã¤ã„ã¦ã„ã¾ã™ã€‚ã™ãªã‚ã¡ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;User&lt;/code&gt;ãƒ¢ãƒ‡ãƒ«ãŒã‚ã‚Œã°&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UsersController&lt;/code&gt;ãŒã‚ã‚Šã€Controllerã®ãã‚Œãã‚Œã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã«&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;User&lt;/code&gt;ãƒ¢ãƒ‡ãƒ«ãŒç´ã¥ãã¨ã„ã†å½¢ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã—ã‹ã—ä¸‹å›³&lt;sup id=&quot;fnref:a&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:a&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;ã¯ãã‚ŒãŒç ´ç¶»ã—ãŸçŠ¶æ…‹ã§ã™ã€‚ã©ã†ãªã£ã¦ã„ã‚‹ã‹ã¨ã„ã†ã¨ã€è¤‡æ•°ã®Controllerã‹ã‚‰ã„ã‚ã‚“ãªã‹ãŸã¡ã§ï¼‘ã¤ã®ãƒ¢ãƒ‡ãƒ«ãŒè§¦ã‚‰ã‚Œã‚‹ã€ãã†ã„ã†çŠ¶æ…‹ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ginzarails-21/controllers-model.jpg&quot; alt=&quot;inline&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç¶šã„ã¦ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã§ã™&lt;sup id=&quot;fnref:b&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:b&quot; class=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://speakerd.s3.amazonaws.com/presentations/ce30c3cf9433471283e24855f6bdd2b4/slide_42.jpg?12161035&quot; alt=&quot;inline&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ã“ã“ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¨ã—ã¦ã¯ &lt;strong&gt;ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹&lt;/strong&gt;ã€‚ã„ã‚ã‚“ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’1ã¤ã®Modelã§è¡¨ç¾ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã¨ã„ã†çŠ¶æ³ãŒè¾›ã„ã¨è¨€ãˆã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&quot;rails-modelã¯ãªãœè¾›ããªã‚‹ã®ã‹&quot;&gt;Rails Modelã¯ãªãœè¾›ããªã‚‹ã®ã‹ï¼Ÿ&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;1ã¤ã®ModelãŒè¤‡æ•°ã®ç•°ãªã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«å¯†çµåˆã—ã¦å®Ÿè£…ã•ã‚Œã‚‹ã¨ã
    &lt;ul&gt;
      &lt;li&gt;â†’ ã‚ã‚‹æ¡ä»¶ã‚„contextã«ç´ä»˜ã„ãŸValidation/Callbackå‡¦ç†&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;1ã¤ã®ãƒ•ã‚©ãƒ¼ãƒ ã§è¤‡æ•°ã®ã‚µãƒ–ãƒªã‚½ãƒ¼ã‚¹ãŒæ›´æ–°ã•ã‚Œã‚‹ã¨ãï¼ˆãƒ•ã‚©ãƒ¼ãƒ ã¨ModelãŒ1å¯¾1ã§ç´ä»˜ã‹ãªã„ã¨ãï¼‰
    &lt;ul&gt;
      &lt;li&gt;â†’ 1ã¤ã®Modelã‚’èµ·ç‚¹ã¨ã—ãŸè¤‡æ•°Modelã‚’è·¨ããƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸Šè¿°ã®é™ç•Œã¯ã€Rails Modelã¨DBã®ãƒ†ãƒ¼ãƒ–ãƒ«ãŒä¸€å¯¾ä¸€ã§ç´ã¥ãRailsã®ä¸–ç•Œè¦³ã«èµ·å› ã™ã‚‹é™ç•Œã¨è¨€ãˆã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç›®æŒ‡ã™ã¹ãã‚´ãƒ¼ãƒ«&quot;&gt;ç›®æŒ‡ã™ã¹ãã‚´ãƒ¼ãƒ«&lt;/h2&gt;

&lt;p&gt;ã§ã¯ã©ã†Railsã®é™ç•Œã‚’ä¹—ã‚Šè¶Šãˆã¦ã„ã‘ã°ã„ã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ&lt;/p&gt;

&lt;p&gt;ä¸‹è¨˜ã¯æ¨ªè»¸ãŒã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®ã‚µã‚¤ã‚ºã€ç¸¦è»¸ãŒãƒšã‚¤ãƒ³ï¼ˆç—›ã¿ã®åº¦åˆã„ï¼‰ã‚’æã„ãŸã‚°ãƒ©ãƒ•ã§ã™&lt;sup id=&quot;fnref:c&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:c&quot; class=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ginzarails-21/growth.png&quot; alt=&quot;inline&quot; /&gt;&lt;/p&gt;

&lt;p&gt;èµ¤ç·šã¯ãƒãƒ‹ãƒ©Railsã§ã™ã€‚ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®ã‚µã‚¤ã‚ºã¨ã¨ã‚‚ã«ãƒšã‚¤ãƒ³ãŒå¢—å¤§ã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ç·‘ç·šã¯ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ãƒ¼ãƒ‰Railsã€‚ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ãŒå¢—å¤§ã—ã¦ã‚‚ãƒšã‚¤ãƒ³ãŒå¢—å¤§ã—ã¾ã›ã‚“ã€‚&lt;/p&gt;

&lt;p&gt;åƒ•ã®ç™ºè¡¨ã®è¨€ã†ã¨ã“ã‚ã§ã¯ã€èµ¤ç·šï¼ˆãƒãƒ‹ãƒ©Railsï¼‰ãŒRails Wayã€ç·‘ç·šï¼ˆã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ãƒ¼ãƒ‰Railsï¼‰ãŒSub-Railsãƒ»Non-Rails Wayã«ã‚ãŸã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ginzarails-21/growth2.png&quot; alt=&quot;inline&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ã¨ã„ã†ã“ã¨ã§æˆ‘ã€…ã®åŸºæœ¬çš„ãªã‚´ãƒ¼ãƒ«ã¨ã—ã¦ã¯ã“ã®ç·‘ç·šã€ã™ãªã‚ã¡ã€ &lt;strong&gt;ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ãŒå¤§ãããªã£ã¦ã‚‚ãƒšã‚¤ãƒ³ãŒå¢—å¤§ã—ãªã„Railsã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹&lt;/strong&gt; ã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†ã€ã¨ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&quot;rails-way&quot;&gt;Rails Way&lt;/h2&gt;

&lt;p&gt;å°å­¦ç”Ÿã®çµµã¿ãŸã„ã§æç¸®ãªã‚“ã§ã™ãŒã€Rails Wayã‚’çµµã«ã™ã‚‹ã¨ã“ã‚“ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ginzarails-21/rails-way.png&quot; alt=&quot;fit&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ã¤ã¾ã‚Š &lt;strong&gt;Railsã®ãƒ¬ãƒ¼ãƒ«ã«æ²¿ã£ãŸé–‹ç™ºã‚¢ãƒ—ãƒ­ãƒ¼ãƒ&lt;/strong&gt; ã§ã™ã€‚&lt;/p&gt;

&lt;h3 id=&quot;concerns&quot;&gt;Concerns&lt;/h3&gt;

&lt;p&gt;ã¾ãšã¯Concernsã€‚Model/Controllerã®å…±é€šã®é–¢å¿ƒäº‹ï¼ˆConcernï¼‰ã‚’moduleã«åˆ‡ã‚Šå‡ºã™æ‰‹æ³•ã§ã™ï¼ˆä»£è¡¨ä¾‹: DHHâ€™s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Recording&lt;/code&gt; Class&lt;sup id=&quot;fnref:6&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:6&quot; class=&quot;footnote&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ginzarails-21/concerns.png&quot; alt=&quot;inline&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ³¨æ„ã™ã¹ãã¯ã€Concernã®Railså…¬å¼ã‚¬ã‚¤ãƒ‰ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å¼·ã„ã¦è¨€ã†ãªã‚‰ä¸‹è¨˜ã®è¨˜äº‹ã§DHHãŒConcernã‚’ç´¹ä»‹ã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://signalvnoise.com/posts/3372-put-chubby-models-on-a-diet-with-concerns&quot;&gt;Put chubby models on a diet with concerns&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Modelã®æŒã£ã¦ã„ã‚‹èƒ½åŠ›ï¼ˆability = &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-able&lt;/code&gt; suffixï¼‰ã«ç€ç›®ã—ã¦Concern moduleã«åˆ‡ã‚Šå‡ºã—ã¦ã„ãã®ãŒã€Rails Wayã£ã½ã•ãŒã‚ã‚‹ã¨è¨€ãˆã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# app/models/concerns/concernable.rb&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Concernable&lt;/span&gt;
  &lt;span class=&quot;kp&quot;&gt;extend&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActiveSupport&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Concern&lt;/span&gt;

  &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;your&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;concern&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;sti&quot;&gt;STI&lt;/h3&gt;

&lt;p&gt;Railsã«ãŠã„ã¦ãƒ†ãƒ¼ãƒ–ãƒ«ã¨Modelã¯åŸå‰‡çš„ã«1å¯¾1ã§çµã³ã¤ãã¾ã™ã€‚ã—ã‹ã—ã€STIã‚’ä½¿ãˆã°1ã¤ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã§è¤‡æ•°Modelç´ä»˜ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹å›³ã¯&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;players&lt;/code&gt;ã¨ã„ã†å˜ä¸€ãƒ†ãƒ¼ãƒ–ãƒ«ã«è¤‡æ•°ã®ã‚¯ãƒ©ã‚¹ãŒçµã³ã¤ã„ã¦ã„ã‚‹å›³ã§ã™&lt;sup id=&quot;fnref:5&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:5&quot; class=&quot;footnote&quot;&gt;6&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ginzarails-21/sti.png&quot; alt=&quot;inline&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Railsã®ã‚³ãƒ¼ãƒ‰ä¾‹ã§ã™ã€‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;companies&lt;/code&gt; ãƒ†ãƒ¼ãƒ–ãƒ«ã«ç´ã¥ã &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Firm&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Client&lt;/code&gt;ãƒ¢ãƒ‡ãƒ«ã®ä¾‹ã ã¨ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# app/models/company.rb&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Company&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationRecord&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# app/models/firm.rb&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Firm&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Company&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# app/models/client.rb&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Client&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Company&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;polymorphic-association&quot;&gt;Polymorphic Association&lt;/h3&gt;

&lt;p&gt;1ã¤ã®ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ãƒƒã‚¯é–¢é€£ä»˜ã‘å®šç¾©ã§è¤‡æ•°ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å¾“å±ã•ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ãŒãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ãƒƒã‚¯é–¢é€£ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ginzarails-21/polymorphic.png&quot; alt=&quot;inline&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä¸Šå›³ã®å ´åˆã€é€šå¸¸ã®Rails DBè¨­è¨ˆã§ã‚ã‚Œã° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pictures&lt;/code&gt;ãƒ†ãƒ¼ãƒ–ãƒ«ãŒ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;employee_id&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;product_id&lt;/code&gt;ã‚’æŒã£ã¦ã„ã‚‹ã¹ãã§ã™ãŒã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;imagable_id&lt;/code&gt;ã¨ã„ã†1ã¤ã‚«ãƒ©ãƒ ã§è¤‡æ•°ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’å¾“å±ã•ã›ã‚‹ã“ã¨ãŒã§ãã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã“ã‚Œã‚’Railsã®ã‚³ãƒ¼ãƒ‰ã§ã‚ã‚‰ã‚ã™ã¨ä¸‹è¨˜ã®é€šã‚Šã§ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# app/models/picture.rb&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Picture&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationRecord&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:imageable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;polymorphic: &lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# app/models/employee.rb&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Employee&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationRecord&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;has_many&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:pictures&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;as: :imageable&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# app/models/product.rb&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Product&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationRecord&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;has_many&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:pictures&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;as: :imageable&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ãŸã ã—æ³¨æ„ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ãƒƒã‚¯é–¢é€£ã¯ã€SQLã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã€6ç« ã§ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã—ã¦ç´¹ä»‹ã•ã‚Œã¦ãŠã‚Šã€ä½¿ç”¨ã™ã‚‹éš›ã¯æ°—ã‚’ã¤ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;è©³ã—ãã¯ã€SQLã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã€ã‚’èª­ã‚“ã§ã„ãŸã ã‘ã‚Œã°ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h3 id=&quot;accepts_nested_attributes_for&quot;&gt;accepts_nested_attributes_for&lt;/h3&gt;

&lt;p&gt;ãƒã‚¹ãƒˆã•ã‚ŒãŸã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆã§é–¢é€£ãƒªã‚½ãƒ¼ã‚¹ã®ä½œæˆãƒ»æ›´æ–°ãƒ»å‰Šé™¤ã‚’è¡Œã†ã®ãŒ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;accepts_nested_attributes_for&lt;/code&gt;ã§ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Base&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;has_many&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:posts&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;accepts_nested_attributes_for&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:posts&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;member: &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;ss&quot;&gt;name: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'joe'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;posts_attributes: &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;title: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Kari, the awesome Ruby documentation browser!'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;title: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'The egalitarian assumption of the modern citizen'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;member&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Member&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:member&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ãŸã ã—ã“ã®&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;accepts_nested_attributes_for&lt;/code&gt;ã¯DHHè‡ªã‚‰ãŒã€Œæ¶ˆã—ãŸã„ã€ã¨ç™ºè¨€ã—ã¦ãŠã‚Š&lt;sup id=&quot;fnref:7&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:7&quot; class=&quot;footnote&quot;&gt;7&lt;/a&gt;&lt;/sup&gt;ã€ç©æ¥µçš„ã«ä½¿ã†ã®ã¯ã‚„ã‚„èºŠèº‡ã‚ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ginzarails-21/dhh.png&quot; alt=&quot;inline&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ãã®ä»–ç´°ã‹ã‚ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯&quot;&gt;ãã®ä»–ç´°ã‹ã‚ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Serialize Attribute&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;jsonå‹ã‚«ãƒ©ãƒ ã¸ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä¿å­˜ã«ä¾¿åˆ©&lt;/li&gt;
      &lt;li&gt;âš ï¸ã€SQLã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã€5ç«  EAV&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Value Object&lt;/strong&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;compose_of&lt;/code&gt;)
    &lt;ul&gt;
      &lt;li&gt;è¤‡æ•°ã‚«ãƒ©ãƒ ã‚’Valueã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦å±•é–‹ã™ã‚‹ã¨ãã«ä¾¿åˆ©&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Validation Class&lt;/strong&gt;/&lt;strong&gt;Callback Class&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;ã‚¯ãƒ©ã‚¹ã¨ã—ã¦åˆ†é›¢å¯èƒ½ â†’ åˆ†é›¢ã™ã‚‹ã“ã¨ã§è¤‡æ•°ãƒ¢ãƒ‡ãƒ«ã§å†åˆ©ç”¨å¯èƒ½ã«&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;rails-wayã¾ã¨ã‚&quot;&gt;ã€ŒRails Wayã€ã¾ã¨ã‚&lt;/h3&gt;

&lt;p&gt;å…¨ä½“ã¨ã—ã¦ã¯ã€Rails Wayã ã‘ã§ã¯Fat Modelã‚’å€’ã™æ‰‹æ®µã¨ã—ã¦æ‰‹æ•°ãŒå°‘ãªãç‰©è¶³ã‚Šãªã„ã¨æ„Ÿã˜ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚µã‚¤ã‚ºãŒFatã«ãªã£ã¦ã„ã‚‹æ™‚ç‚¹ã§ãã®Railsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ä¸­è¦æ¨¡ä»¥ä¸Šã®ã‚µã‚¤ã‚ºãŒè¦‹è¾¼ã¾ã‚Œã¾ã™ã‹ã‚‰ã€æ­£ç›´Rails Wayã ã‘ã§Fat Modelã‚’å€’ã™ã®ã¯ç„¡ç†ã ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;âŒ Concerns, Validation Classãªã©Fat Modelã‚’DRYã«è¨˜è¿°ã™ã‚‹æ‰‹æ®µã«ã¯ãªã‚‹ãŒã€æ§‹é€ çš„ã«ãƒ€ã‚¤ã‚¨ãƒƒãƒˆã™ã‚‹æ‰‹æ®µã«ã¯ãªã£ã¦ã„ã¾ã›ã‚“ã€‚ã‚ãã¾ã§ãã‚Œã‚‰ã¯å±€æ‰€çš„ãªãƒ€ã‚¤ã‚¨ãƒƒãƒˆã«ç•™ã¾ã£ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;âŒ STI, Polymorphicãªã©ã¯DBè¨­è¨ˆã¨å¯†çµåˆã—ãŸã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§ã€å®Œå…¨ãªã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ™ãƒ«ã®è§£æ±ºã«ã¯ãªã£ã¦ã„ã¾ã›ã‚“ã€‚ã¾ãŸã€ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã—ã¦ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«ã€ãã‚Œè‡ªä½“ãŒæŠ€è¡“è² å‚µã«ãªã‚Šãˆã‚‹æ§‹é€ çš„å•é¡Œã‚’å­•ã‚“ã§ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&quot;sub-rails-way&quot;&gt;Sub-Rails Way&lt;/h2&gt;

&lt;p&gt;Sub-Rails Wayã¯ãƒ¬ãƒ¼ãƒ«ã‚’è£œå¼·ãƒ»æ‹¡å¼µã—ã¤ã¤ãƒ¬ãƒ¼ãƒ«ã«ä¹—ã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ginzarails-21/sub-rails-way.png&quot; alt=&quot;fit&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ãƒ¬ãƒ¼ãƒ«ã‚’ä½•ã‚’ä½¿ã£ã¦è£œå¼·ãƒ»æ‹¡å¼µã™ã‚‹ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿãã‚Œã¯ä¸‹è¨˜ï¼’ã¤ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;gem&lt;/li&gt;
  &lt;li&gt;SaaS&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;view-model&quot;&gt;View Model&lt;/h3&gt;

&lt;p&gt;Modelã«ãŠã‘ã‚‹Viewé–¢é€£ãƒ­ã‚¸ãƒƒã‚¯ã‚’ &lt;strong&gt;View Model&lt;/strong&gt; ã¨ã—ã¦åˆ‡ã‚Šå‡ºã™æ‰‹æ³•ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;Development of Further PoEAAã§&lt;a href=&quot;https://martinfowler.com/eaaDev/PresentationModel.html&quot;&gt;Presentation Model&lt;/a&gt;ã¨ã„ã†æ¦‚å¿µã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ãŸã‚‹ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚Modelã‚’Decoratorãƒ‘ã‚¿ãƒ¼ãƒ³ã£ã½ãæ‹¡å¼µã—ã¦ã„ã‚‹ã®ã§Decoratorã¨ã‚‚å‘¼ã°ã‚Œã‚‹ã“ã¨ãŒå¤šã„ã§ã™&lt;sup id=&quot;fnref:8&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:8&quot; class=&quot;footnote&quot;&gt;8&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ã“ã®View Modelã®è‰¯ã„ã¨ã“ã‚ã¨ã—ã¦ã¯ã€Fat Model ã®å¯¾å‡¦ã¨ã—ã¦æ©Ÿèƒ½ã™ã‚‹ã ã‘ã§ãªãã€Fat View ã®å¯¾å‡¦ã¨ã—ã¦ã‚‚æ©Ÿèƒ½ã™ã‚‹ç‚¹ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ğŸ’ gemã®å®Ÿè£…ã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/drapergem/draper&quot;&gt;draper&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/amatsuda/active_decorator&quot;&gt;active_decorator&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ğŸ”§ draperã®å ´åˆã€ã‚³ãƒ¼ãƒ‰ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼ˆArticleãƒ¢ãƒ‡ãƒ«ã®Decoratorã‚¯ãƒ©ã‚¹ï¼‰ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# app/decorators/article_decorator.rb&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ArticleDecorator&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Draper&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Decorator&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;delegate_all&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;publication_status&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;published?&lt;/span&gt;
      &lt;span class=&quot;s2&quot;&gt;&quot;Published at &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;published_at&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
      &lt;span class=&quot;s2&quot;&gt;&quot;Unpublished&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;published_at&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;published_at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;strftime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;%A, %B %e&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;æ¨©é™ç®¡ç†èªå¯&quot;&gt;æ¨©é™ç®¡ç†ãƒ»èªå¯&lt;/h3&gt;

&lt;p&gt;ç®¡ç†ç”»é¢å®Ÿè£…ã«ãŠã„ã¦é€ƒã’ã‚‰ã‚Œãªã„å®Ÿè£…ã¯èªè¨¼ã¨ã‚ã‚ã›ã¦ã€æ¨©é™ç®¡ç†ãƒ»èªå¯ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ&lt;/p&gt;

&lt;p&gt;Resourceã®CRUDã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã™ã‚‹ã®ãŒã€ŒRailsã‚‰ã—ã„ã€æ¨©é™ç®¡ç†ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ğŸ’ gemã®å®Ÿè£…ã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/varvet/pundit&quot;&gt;pundit&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/kyuden/banken&quot;&gt;banken&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/CanCanCommunity/cancancan&quot;&gt;cancancan&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ğŸ”§ punditã®å ´åˆã€ã‚³ãƒ¼ãƒ‰ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ï¼ˆPostãƒ¢ãƒ‡ãƒ«ã®èªå¯ã‚¯ãƒ©ã‚¹ï¼‰ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# app/policies/post_policy.rb&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PostPolicy&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;attr_reader&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:post&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;initialize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@post&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;post&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;update?&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;admin?&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;published?&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;interactor&quot;&gt;Interactor&lt;/h3&gt;

&lt;p&gt;Interactorã¯Clean Architectureç”±æ¥ã™ã‚‹æ¦‚å¿µã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹è¨˜ã®å›³ã¯è¦‹ãŸã“ã¨ã‚ã‚‹æ–¹ã‚‚å¤šãã„ã‚‰ã£ã—ã‚ƒã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚èµ¤ã„éƒ¨åˆ†ãŒClean Architectureã«ãŠã‘ã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å±¤ã«ãªã‚Šã¾ã™ã€‚ã“ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å±¤ã« Interactor ãŒè¡¨ç¾ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://blog.cleancoder.com/uncle-bob/images/2012-08-13-the-clean-architecture/CleanArchitecture.jpg&quot; alt=&quot;inline&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å±¤ã¨ã„ã†ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ã¨ã¦ã‚‚è‰¯ã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚ãªãœãªã‚‰å…ˆç¨‹ã€Œ1ã¤ã®ModelãŒè¤‡æ•°ã®ç•°ãªã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«å¯†çµåˆã—ã¦å®Ÿè£…ã•ã‚Œã‚‹ã¨ãâ€•ã€ã¨è¨€ã„ã¾ã—ãŸãŒã€ãã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’ã¾ã•ã«Interactorã¨ã—ã¦è¡¨ç¾ã§ãã‚‹ã‹ã‚‰ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;å€‹äººçš„ã«Clean Architectureã¨Railsã¯ç›¸æ€§ãŒè‰¯ã„ã¨æ€ã£ã¦ã„ã¦ã€ã“ã®ã‚ˆã†ã«MVC+Interactorã§Clean Architectureã®ãã‚Œãã‚Œã®å±¤ã¨ä¸€è‡´ã•ã›ã‚‹ã“ã¨ãŒã§ãã‚‹ã‹ã‚‰ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ginzarails-21/Clean_Coder_Blog.png&quot; alt=&quot;inline&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ğŸ’ gemã¨ã—ã¦ã¯ä¸‹è¨˜ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/collectiveidea/interactor-rails&quot;&gt;interactor-rails&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;(not Rails) &lt;a href=&quot;https://github.com/hanami&quot;&gt;hanami&lt;/a&gt;â€™s &lt;a href=&quot;https://github.com/hanami/utils/blob/master/lib/hanami/interactor.rb&quot;&gt;Interactor&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;hanamiã¯Railsã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€Clean Architectureã«å¼·ãå½±éŸ¿ã‚’å—ã‘ãŸRubyè£½Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚hanamiã«ã¯ Interactor ã®ä»•çµ„ã¿ãŒæ¨™æº–ã§å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ğŸ”§ interactor-railsã®å ´åˆã®ã‚³ãƒ¼ãƒ‰ã¯ä¸‹è¨˜ã®é€šã‚Šã§ã™ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’èªè¨¼ã™ã‚‹ã‚¯ãƒ©ã‚¹ï¼‰ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# app/interactors/authenticate_user.rb&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AuthenticateUser&lt;/span&gt;
  &lt;span class=&quot;kp&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Interactor&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;call&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;authenticate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;secret_token&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;fail!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;message: &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;authenticate_user.failure&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Inside your controller,&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;AuthenticateUser&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session_params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ç‰¹å®šã®èª²é¡Œã®è§£æ±º&quot;&gt;ç‰¹å®šã®èª²é¡Œã®è§£æ±º&lt;/h3&gt;

&lt;p&gt;ç‰¹å®šã®èª²é¡Œã‚’è§£æ±ºã™ã‚‹gemã¨ã—ã¦ã¯ä¾‹ãˆã°ä¸‹è¨˜ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;è«–ç†å‰Šé™¤&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;ğŸ’ gem: &lt;a href=&quot;https://github.com/jhawthorn/discard&quot;&gt;discard&lt;/a&gt;, &lt;a href=&quot;https://github.com/rubysherpas/paranoia&quot;&gt;paranoia&lt;/a&gt;, &lt;a href=&quot;https://github.com/ActsAsParanoid/acts_as_paranoid&quot;&gt;acts_as_paranoid&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;âš ï¸ &lt;a href=&quot;https://www.slideshare.net/t_wada/ronsakucasual&quot;&gt;SQLã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ å¹»ã®ç¬¬26ç« ã€Œã¨ã‚Šã‚ãˆãšå‰Šé™¤ãƒ•ãƒ©ã‚°ã€&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;è¦ç´ ã®ã‚½ãƒ¼ãƒˆãƒ»ä¸¦ã³æ›¿ãˆ&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;ğŸ’ gem: &lt;a href=&quot;https://github.com/brendon/acts_as_list&quot;&gt;acts_as_list&lt;/a&gt;, &lt;a href=&quot;https://github.com/mixonic/ranked-model&quot;&gt;ranked-model&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;State Machine&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;ğŸ’ gem: &lt;a href=&quot;https://github.com/aasm/aasm&quot;&gt;aasm&lt;/a&gt;, &lt;a href=&quot;https://github.com/amatsuda/stateful_enum&quot;&gt;stateful_enum&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Tagging&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;ğŸ’ gem: &lt;a href=&quot;https://github.com/mbleigh/acts-as-taggable-on&quot;&gt;acts-as-taggable-on&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Hashã‚’ActiveRecordã£ã½ãæ“ä½œ&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;ğŸ’ gem: &lt;a href=&quot;https://github.com/zilkey/active_hash&quot;&gt;active_hash&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è§£æ±ºã—ãŸã„èª²é¡Œã«å¿œã˜ã¦å°å…¥ã—ã¦ã„ãã®ãŒè‰¯ã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ãã‚Œrailsã§ã§ãã‚‹ã‚ˆ&quot;&gt;ã€Œãã‚ŒRailsã§ã§ãã‚‹ã‚ˆã€&lt;sup id=&quot;fnref:10&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:10&quot; class=&quot;footnote&quot;&gt;9&lt;/a&gt;&lt;/sup&gt;&lt;/h3&gt;

&lt;p&gt;é€†ã«gemã‚’ä½¿ã‚ãšã¨ã‚‚Railsæ¨™æº–ã§è§£æ±ºã§ãã‚‹ã‚ˆã£ã¦èª²é¡Œã‚‚å¤šãå­˜åœ¨ã—ã¾ã™ã€‚ä¾‹ãˆã°ä¸‹è¨˜ã®ã‚ˆã†ãªä¾‹ã§ã™ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;:gem: &lt;a href=&quot;https://github.com/brainspec/enumerize&quot;&gt;enumerize&lt;/a&gt; (Emumerized Attributes)
    &lt;ul&gt;
      &lt;li&gt;Rails 4.1: ActiveRecord enum&lt;/li&gt;
      &lt;li&gt;å‚è€ƒ. &lt;a href=&quot;https://api.rubyonrails.org/v5.2.3/classes/ActiveRecord/Enum.html&quot;&gt;ActiveRecord::Enum&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;:gem: &lt;a href=&quot;https://github.com/eagletmt/switch_point&quot;&gt;switch_point&lt;/a&gt; (Database R/W Split)
    &lt;ul&gt;
      &lt;li&gt;Rails 6: Multi-DB&lt;/li&gt;
      &lt;li&gt;å‚è€ƒ: &lt;a href=&quot;https://railsguides.jp/active_record_multiple_databases.html&quot;&gt;Active Record ã§è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆ©ç”¨ - Railsã‚¬ã‚¤ãƒ‰&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;:gem: &lt;a href=&quot;https://github.com/zdennis/activerecord-import&quot;&gt;activerecord-import&lt;/a&gt; (Bulk Import)
    &lt;ul&gt;
      &lt;li&gt;Rails 6: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;insert_all&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;upsert_all&lt;/code&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;:gem: &lt;a href=&quot;https://github.com/carrierwaveuploader/carrierwave&quot;&gt;carrierwave&lt;/a&gt;, &lt;a href=&quot;https://github.com/shrinerb/shrine&quot;&gt;shrine&lt;/a&gt; (File Uploader)
    &lt;ul&gt;
      &lt;li&gt;Rails 5.2: Active Storage&lt;/li&gt;
      &lt;li&gt;å‚è€ƒ: &lt;a href=&quot;https://railsguides.jp/active_storage_overview.html&quot;&gt;Active Storage ã®æ¦‚è¦ - Railsã‚¬ã‚¤ãƒ‰&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;:gem: &lt;a href=&quot;https://github.com/norman/friendly_id&quot;&gt;friendly_id&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;ActiveRecord: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;to_param&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;å‚è€ƒ: &lt;a href=&quot;https://api.rubyonrails.org/classes/ActiveRecord/Integration.html#method-i-to_param&quot;&gt;ActiveRecord::Integration&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;:gem: &lt;a href=&quot;https://github.com/magnusvk/counter_culture&quot;&gt;counter_culture&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;ActiveRecord: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;counter_cache&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;å‚è€ƒ: &lt;a href=&quot;https://railsguides.jp/association_basics.html#belongs-to%E3%81%AE%E3%82%AA%E3%83%97%E3%82%B7%E3%83%A7%E3%83%B3-counter-cache&quot;&gt;Active Record ã®é–¢é€£ä»˜ã‘&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ID/Passwordèªè¨¼
    &lt;ul&gt;
      &lt;li&gt;ActiveModel: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;has_secure_password&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;å‚è€ƒ: &lt;a href=&quot;https://api.rubyonrails.org/classes/ActiveModel/SecurePassword/ClassMethods.html&quot;&gt;ActiveModel::SecurePassword::ClassMethods&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;:gem: &lt;a href=&quot;https://github.com/rubyconfig/config&quot;&gt;config&lt;/a&gt; (YAML Config Management)
    &lt;ul&gt;
      &lt;li&gt;Rails Custom configuration:&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Rails::Application.config_for&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;config.x&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;å‚è€ƒ: &lt;a href=&quot;https://railsguides.jp/configuring.html#%E3%82%AB%E3%82%B9%E3%82%BF%E3%83%A0%E8%A8%AD%E5%AE%9A&quot;&gt;Rails ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã™ã‚‹ - Railsã‚¬ã‚¤ãƒ‰&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ãã‚Œrubyã§ã§ãã‚‹ã‚ˆ&quot;&gt;ã€Œãã‚ŒRubyã§ã§ãã‚‹ã‚ˆã€&lt;sup id=&quot;fnref:10:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:10&quot; class=&quot;footnote&quot;&gt;9&lt;/a&gt;&lt;/sup&gt;&lt;/h3&gt;

&lt;p&gt;gemã‚’ä½¿ã‚ãšã¨ã‚‚Rubyã§ã‚‚ã§ãã‚‹ã‚ˆã£ã¦ã‚±ãƒ¼ã‚¹ã‚‚ã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;:gem: &lt;a href=&quot;https://github.com/pry/pry&quot;&gt;pry&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Ruby 2.4: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;binding.irb&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;Ruby 2.7: REPL Syntax Highlighting&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;saasã«åˆ‡ã‚Šå‡ºã™&quot;&gt;SaaSã«åˆ‡ã‚Šå‡ºã™&lt;/h3&gt;

&lt;p&gt;å‡¦ç†ã‚’SaaSã«åˆ‡ã‚Šå‡ºã™ã€ã¨ã„ã†æ„å‘³ã§ã¯ä¸‹è¨˜ã®ä¾‹ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://auth0.com/jp/&quot;&gt;Auth0&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã‚’Auth0ã«ç§»è­²&lt;/li&gt;
      &lt;li&gt;èªè¨¼ã«ã¨ã‚‚ãªã†MFAã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¯¾ç­–ãªã©ã®é¢å€’ãªå®Ÿè£…ã‚’Auth0ãŒè‚©ä»£ã‚ã‚Š&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://sentry.io/welcome/&quot;&gt;Sentry&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;ã‚¨ãƒ©ãƒ¼é€šçŸ¥ã‚’Sentryã«ç§»è­²&lt;/li&gt;
      &lt;li&gt;ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚¨ãƒ©ãƒ¼ã‚’ã½ã‚“ã½ã‚“æŠ•ã’è¾¼ã‚ã°ã„ã„æ„Ÿã˜ã«ã‚¨ãƒ©ãƒ¼ã‚’ã‚¢ã‚°ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»å¯è¦–åŒ–ãƒ»å„ç¨®é€šçŸ¥ã—ã¦ãã‚Œã‚‹&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://newrelic.co.jp/&quot;&gt;NewRelic&lt;/a&gt;/&lt;a href=&quot;https://www.datadoghq.com/ja/&quot;&gt;Datadog&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;APM (Application Performance Monitoring)ã‚’ NewRelic/Datadog APMã§ã‚„ã‚‹&lt;/li&gt;
      &lt;li&gt;è‡ªå‰ã§ Elasticsearch + Kibana ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã‚‚ã„ã„ãŒã€æ§‹ç¯‰ã‚³ã‚¹ãƒˆãƒ»é‹ç”¨ã‚³ã‚¹ãƒˆã¨ã‚‚ã«é«˜ãã¤ã&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;sub-rails-wayã¾ã¨ã‚&quot;&gt;ã€ŒSub-Rails Wayã€ã¾ã¨ã‚&lt;/h3&gt;

&lt;p&gt;gem ã‚’ä½¿ã†ã“ã¨ã§Fat Modelå¯¾å‡¦æ³•ã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ãŒãã£ã¨åºƒãŒã‚Šã¾ã™ã€‚ç‹¬è‡ªå®Ÿè£…ã§Modelã‚’å¤ªã‚‰ã›ã‚‹ã“ã¨ã‚’ã›ãšã€ä½¿ãˆã‚‹gemã¯ç©æ¥µçš„ã«åˆ©ç”¨ã—ã¦ã„ãã¨ã‚ˆã„ã§ã—ã‚‡ã†ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€æ–¹ã€gemã‚’ä½¿ã‚ãšã¨ã‚‚Railsæ¨™æº–ã§è§£æ±ºã§ãã‚‹ã“ã¨ã‚‚å®Ÿã¯å¤šãã‚ã‚‹ã®ã§è¦‹æ¥µã‚ãŸä¸Šã§gemå°å…¥ã—ã¾ã—ã‚‡ã†ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãŸã€é¸æŠè‚¢ã¯ã•ã»ã©å¤šããªã„ã‚‚ã®ã®ã€æœ€è¿‘ã¯ã•ã¾ã–ã¾ãªä¾¿åˆ©SaaSãŒå‡ºã¦ã„ã‚‹ã®ã§ SaaSã‚’ä½¿ã†ã®ã‚‚Fat Modelå¯¾æŠ—æ‰‹æ®µã®ï¼‘ã¤ã¨ã—ã¦æ¤œè¨ã—ã¦ã‚‚ã‚ˆã„ã§ã—ã‚‡ã†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;non-rails-way&quot;&gt;Non-Rails Way&lt;/h2&gt;

&lt;p&gt;Non-Railsã¯ãƒ¬ãƒ¼ãƒ«ã«ä¹—ã‚‰ãªã„åˆ¥ã®ãƒ¬ãƒ¼ãƒ«ã€ç‹¬è‡ªè·¯ç·šã®ã“ã¨ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/ginzarails-21/non-rails-way.png&quot; alt=&quot;fit&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ã¤ã¾ã‚Šè‡ªã‚‰ãƒ¬ãƒ¼ãƒ«ã‚’ä½œã£ã¦ã„ãã‚¹ã‚¿ã‚¤ãƒ«ã§ã™ã€‚&lt;/p&gt;

&lt;h3 id=&quot;form-model&quot;&gt;Form Model&lt;/h3&gt;

&lt;p&gt;Form Modelã¨ã¯ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;include ActiveModel&lt;/code&gt;ã—ãŸRubyã‚¯ãƒ©ã‚¹ã®ã“ã¨ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;å··ã§ã¯Form Objectã¨å‘¼ã°ã‚Œã‚‹ã“ã¨ãŒå¤šã„ã§ã™ãŒã€ï¼œFormã«ç‰¹åŒ–ã—ãŸActiveModelï¼ã¨ã„ã†æ„å‘³ã§ã€ã‚ãˆã¦Form Modelã¨æœ¬ç™ºè¡¨ã§ã¯å‘¼ã‚“ã§ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ãƒ•ã‚©ãƒ¼ãƒ ã¨Form Modelã¯ä¸€å¯¾ä¸€ã§ç´ä»˜ãã¾ã™ã€‚ã“ã†ã™ã‚‹ã“ã¨ã§ &lt;strong&gt;ç‰¹å®šã®ï¼œFormã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼ã«å¯¾å¿œã—ãŸModel&lt;/strong&gt; ãŒä½œæˆå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ğŸ’ gemã®å®Ÿè£…ã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/trailblazer/reform&quot;&gt;reform&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/dry-rb/&quot;&gt;dry-rb&lt;/a&gt;ã‚·ãƒªãƒ¼ã‚ºï¼ˆæ—§ãƒ»&lt;a href=&quot;https://github.com/solnic/virtus&quot;&gt;virtus&lt;/a&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Form Modelã®ä½¿ã„æ‰€ã¨ã—ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«æ•´ç†ã§ãã‚‹ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;ç´ã¥ã&lt;br /&gt;ãƒ†ãƒ¼ãƒ–ãƒ«æ•°&lt;/th&gt;
      &lt;th&gt;Form Modelã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;0&lt;/td&gt;
      &lt;td&gt;å•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ãªã©ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œã‚‹ã¾ã§ã‚‚ãªã„ãƒ•ã‚©ãƒ¼ãƒ ã§åˆ©ç”¨&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;-&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2ä»¥ä¸Š&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;accepts_nested_attributes_for&lt;/code&gt;ã®ä»£ã‚ã‚Šã¨ã—ã¦ã€è¤‡é›‘ãªãƒ•ã‚©ãƒ¼ãƒ ã®çµ„ã¿ç«‹ã¦æ™‚ã«åˆ©ç”¨&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ãƒ†ãƒ¼ãƒ–ãƒ«ã¨ãƒ•ã‚©ãƒ¼ãƒ ãŒ1å¯¾1ã§ç´ã¥ãå ´åˆã¯Rails Wayã§è§£æ±ºã•ã›ã‚‹ã®ãŒç´ ç›´ãªå®Ÿè£…&lt;/p&gt;

&lt;p&gt;ãã®ä»–ã®ç‰¹å®šã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ç‰¹åŒ–ã—ãŸForm Modelå®Ÿè£…ã¨ã—ã¦ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚‚ã®ãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;SearchForm: æ¡ä»¶ã«åŸºã¥ãæ¤œç´¢ã«ç‰¹åŒ–ã—ãŸãƒ•ã‚©ãƒ¼ãƒ &lt;/li&gt;
  &lt;li&gt;DownloadForm: CSVãªã©ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã«ç‰¹åŒ–ã—ãŸãƒ•ã‚©ãƒ¼ãƒ &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;poro&quot;&gt;PORO&lt;/h3&gt;

&lt;p&gt;POROã¨ã¯Plain Old Ruby Objectã®ç•¥ã§ã™ã€‚å…ƒãƒã‚¿ã¯PoEAAã®POJO (Plain Old Java Object)ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;POROã¯ã€ActiveRecordã®æ©Ÿèƒ½ã«ä¾å­˜ã—ãªã„ç´”ç²‹ãªRubyå®Ÿè£…ã§ã™ã€‚ãªã®ã§&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;include ActiveModel&lt;/code&gt;ã—ã¦ã„ã‚‹Rubyã‚¯ãƒ©ã‚¹ã¯å€‹äººçš„ã«ã¯POROã¨ã¯å‘¼ã‚“ã§ã„ã¾ã›ã‚“ã€‚&lt;/p&gt;

&lt;p&gt;ç´”ç²‹ãªRubyå®Ÿè£…ãªã®ã§ã‚ã‚‹æ„å‘³ã€ &lt;strong&gt;Ruby Way&lt;/strong&gt; ã¨ã‚‚è¨€ã†ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;POROã®ä¸»ãªç”¨é€”ã¨ã—ã¦ã¯Modelã®è£œåŠ©è¼ªçš„ãªå½¹å‰²ã ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°ä¸‹è¨˜ã®ä¾‹ã§ã¯ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;create!&lt;/code&gt;å‘¼ã³å‡ºã—æ™‚ã«å¼•æ•°ã‚’å—ã‘å–ã£ã¦&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;create!&lt;/code&gt;ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰å†…ã§ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã‚’å¼µã£ã¦è¤‡æ•°ãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PostWithNotifications&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;create!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;creator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;creator: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;creator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;body: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;create!&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;initialize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;creator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:)&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@creator&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;creator&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;create!&lt;/span&gt;
    &lt;span class=&quot;no&quot;&gt;ActiveRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Base&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;transaction&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;create_post!&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;create_notifications!&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;    
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ã“ã®Rubyã‚¯ãƒ©ã‚¹ã®å ´åˆã€ï¼œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Post&lt;/code&gt;ä½œæˆã¨ã¨ã‚‚ã«&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Notification&lt;/code&gt;ã‚‚ä½œæˆã™ã‚‹ï¼ã¨ã„ã†è¤‡æ•°ãƒ¢ãƒ‡ãƒ«æ›´æ–°ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’POROã«é–‰ã˜è¾¼ã‚ãŸã¨ã„ã†ã“ã¨ãŒã§ãã‚‹ã§ã—ã‚‡ã†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;service-class&quot;&gt;Service Class&lt;/h3&gt;

&lt;p&gt;ç¶šã„ã¦ã¯ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹ã«é–¢ã—ã¦ã¯ã‚‚ã—ã‹ã—ãŸã‚‰è³›å¦ä¸¡è«–ã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã‚µãƒ¼ãƒ“ã‚¹ã¨ã„ã†æ¦‚å¿µãŒãƒ‡ã‚«ã™ãã‚‹æ•…ã«ã€äººã«ã‚ˆã£ã¦ä½¿ã„æ–¹ãƒ»è§£é‡ˆãŒç•°ãªã‚Šã€ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹ã«ã¾ã¤ã‚ã‚‹å··ã®ã™ã‚Œé•ã„ã‚’èµ·ã“ã—ã¦ã„ã‚‹å°è±¡ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹ã«é–¢ã—ã¦ã¯ã¾ãšã¯ã‚µãƒ¼ãƒ“ã‚¹ã®å®šç¾©å•é¡ŒãŒã‚ã‚‹ã¨æ€ã£ã¦ã„ã¾ã™ã€‚ã¤ã¾ã‚Šã€Œã‚ãªãŸã®è¨€ã†Serviceã£ã¦ãªã‚“ã§ã™ã‹ï¼Ÿã€ã¨ã„ã†å•é¡Œã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€å£ã«ã‚µãƒ¼ãƒ“ã‚¹ã¨ã„ã£ã¦ã‚‚æ§˜ã€…ãªæ–‡è„ˆã®ã‚µãƒ¼ãƒ“ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Architecture&lt;/th&gt;
      &lt;th&gt;Service Name&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;PoEAA&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;Service Layer&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;DDD&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;Service Class&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;Onion Architecture&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;Application Service, Domain Service&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;Rails â€œServiceâ€&lt;/strong&gt; ?&lt;/td&gt;
      &lt;td&gt;ä¸Šè¨˜ã®ã©ã‚Œã§ã‚‚ãªã„â€Serviceâ€&lt;br /&gt;ä¸Šè¨˜ã‚’çµ„ã¿åˆã‚ã›ãŸâ€Serviceâ€&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ã€Œã©ã†ã„ã†æ–‡è„ˆã®ã‚µãƒ¼ãƒ“ã‚¹ã‹ï¼Ÿã€ã‚’æ˜ç¢ºã«ã—ãŸä¸Šã§è­°è«–ã—ãªã„ã¨ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹ã®å®šç¾©ãƒ»æ¦‚å¿µãŒãƒœãƒ³ãƒ¤ãƒªã—ã¦ã—ã¾ã†å°è±¡ã§ã™ã€‚ãªã®ã§ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹ã‚’å°å…¥ã™ã‚‹éš›ã¯ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚¯ãƒ©ã‚¹ã®å®šç¾©ãƒ»ä½¿ã„æ–¹ã‚’æ˜ç¢ºã«ã—ãŸä¸Šã§ãƒãƒ¼ãƒ ã«å°å…¥ã—ã¦ã„ãã®ãŒè‰¯ã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;å€‹äººçš„ãªè¦‹è§£ã«ã¯ãªã‚Šã¾ã™ãŒã€ï¼œç‰¹å®šã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®è§£æ±ºï¼ã¨ã„ã†æ„å‘³ã«ãŠã„ã¦ã¯Interactorã®ã»ã†ãŒå°‘ãªãã¨ã‚‚Railsã«ãŠã„ã¦ã¯ç­‹ãŒè‰¯ã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãŸã€å€‹äººçš„ã«ä¸‹æ‰‹ã«ã‚µãƒ¼ãƒ“ã‚¹ã¨ã„ã†å·¨å¤§ã§å¼·ã„æ¦‚å¿µã‚’æŒã¡è¾¼ã‚€ã‚ˆã‚Šã€POROã¨ã„ã†æ¦‚å¿µã§é›‘ã«ã¾ã¨ã‚ãŸã»ã†ãŒå¥½ã¿ã ã£ãŸã‚Šã—ã¾ã™ã€‚&lt;/p&gt;

&lt;h3 id=&quot;1-table-multiple-models&quot;&gt;1 Table Multiple Models&lt;/h3&gt;

&lt;p&gt;ä¸€ã¤ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã«è¤‡æ•°Modelã‚’ç´ä»˜ã‘ã‚‹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;Rails Wayã ã¨STIã§ã®ã¿ã“ã‚Œã¯å®Ÿç¾å¯èƒ½ã§ã™ãŒã€STIã‚’ä½¿ã‚ãšã«ãŒã‚“ã°ã£ã¦ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã§è¤‡æ•°ãƒ¢ãƒ‡ãƒ«ã‚’è¡¨ç¾ã—ã¡ã‚ƒã„ã¾ã—ã‚‡ã†ã¨ã„ã†ã‚„ã‚Šæ–¹ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã‚³ãƒ¼ãƒ‰ã«ã™ã‚‹ã¨ã€ä¾‹ãˆã°ä¸‹è¨˜ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationRecord&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;User::AsSignUp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;User&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;validates&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;after_create&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:send_welcome_email&lt;/span&gt;

  &lt;span class=&quot;kp&quot;&gt;private&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;send_welcome_email&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ã“ã®ä¾‹ã§ã¯ï¼œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;User&lt;/code&gt;ã®ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ï¼ã¨ã„ã†ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ã®ã¿ç‰¹åŒ–ã—ãŸActiveRecordã®Modelã‚’ä½œæˆã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ãŸã ã“ã®å®Ÿè£…ã«é–¢ã—ã¦ã¯ã€1 Table 1 Modelã¨ã„ã†Railsã®ãƒ‘ãƒ©ãƒ€ã‚¤ãƒ ï¼ˆè¦ç´„ï¼‰ã‚’å£Šã™ã“ã¨ã«ãªã£ã¦ã—ã¾ã†ã®ã§ã€ã„ã•ã•ã‹å±é™ºæ€æƒ³ã¨ã„ã†å°è±¡ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ãŸã åƒ•è‡ªèº«å®Ÿéš›ã«ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã«å°å…¥ã—ã¦é‹ç”¨ã—ãŸçµŒé¨“ã¯ãªã„ã®ã§ã€ã‚‚ã—å®Ÿé‹ç”¨ã«ãŠã‘ã‚‹æˆåŠŸä¾‹ãŠæŒã¡ã®æ–¹ãŒã„ã‚Œã°æ•™ãˆã¦ã„ãŸã ã‘ã‚‹ã¨å¹¸ã„ã§ã™ã€‚&lt;/p&gt;

&lt;h3 id=&quot;non-rails-wayã¾ã¨ã‚&quot;&gt;ã€ŒNon-Rails Wayã€ã¾ã¨ã‚&lt;/h3&gt;

&lt;p&gt;4ã¤ã® Non-Railsã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Form Model&lt;/li&gt;
  &lt;li&gt;PORO&lt;/li&gt;
  &lt;li&gt;Service Class&lt;/li&gt;
  &lt;li&gt;1 Table Multiple Models&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ã“ã‚Œã‚‰ã‚’ã†ã¾ãå°å…¥ã§ãã‚Œã°Fat Modelã‚’å€’ã™å¼·åŠ›ãªæ­¦å™¨ã¨ãªã‚‹ã®ã¯é–“é•ã„ãªã„ã§ã—ã‚‡ã†ã€‚&lt;/p&gt;

&lt;p&gt;ã©ã‚Œã‚’ã©ã†å°å…¥ã™ã‚‹ã‹ã«é–¢ã—ã¦ã¯æ­£è§£ã¯ãªã„ã¨æ€ã†ã®ã§ãƒãƒ¼ãƒ ã«ã‚ã£ãŸæ‰‹æ³•ã‚’é¸æŠã™ã‚‹ã¨è‰¯ã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¨ã„ã£ã¦ã‚‚ã€Œã©ã‚Œã‚’å°å…¥ã™ã‚Œã°ã„ã„ã‹ã‚ã‹ã‚‰ã‚“â€¦ã€ã£ã¦ãªã‚‹ã¨æ€ã†ã®ã§å€‹äººçš„ãªãŠã™ã™ã‚ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’ç´¹ä»‹ã™ã‚‹ã¨ã€ãƒ¢ãƒ‡ãƒ«ã‚’å¤ªã‚‰ã›ã¦ã—ã¾ã†ã‚ˆã†ãªè¤‡é›‘ãªãƒ•ã‚©ãƒ¼ãƒ ã«é–¢ã—ã¦ã¯Form Modelã§è¡¨ç¾ã™ã‚‹ã®ãŒã‚ã‹ã‚Šã‚„ã™ã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä½•ã‚‰ã‹ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«ç‰¹åŒ–ã—ãŸã‚¯ãƒ©ã‚¹ã‚’ä½œã‚ŠãŸã„ã®ã§ã‚ã‚Œã°ã€Sub-Railsã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ç´¹ä»‹ã—ãŸInteractorã‚’ä½¿ã†ã®ãŒå€‹äººçš„ã«ã¯ã‚ªã‚¹ã‚¹ãƒ¡ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¸Šè¨˜ã§è¶³ã‚Šãªã„ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãŒå‡ºã¦ããŸå ´åˆã€POROã¨ç·ç§°ã—ã¦Modelã®è£œåŠ©è¼ªã¨ãªã‚‹ã‚ˆã†ãªRubyã‚¯ãƒ©ã‚¹ã‚’ç”¨æ„ã—ã¦ã‚ã’ã‚‹ã¨è‰¯ã„ã‹ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å…¨ä½“ã®ã¾ã¨ã‚&quot;&gt;å…¨ä½“ã®ã¾ã¨ã‚&lt;/h2&gt;

&lt;p&gt;Fat Modelã‚’å€’ã™ãŸã‚ã®3ã¤ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;Rails Way&lt;/strong&gt;: Railsã®è¦ç´„ã«æ²¿ã£ãŸé–‹ç™ºã‚¢ãƒ—ãƒ­ãƒ¼ãƒ&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Sub-Rails Way&lt;/strong&gt;: Railsã®è¦ç´„ã‚’gemã§è£œå¼·ãƒ»æ‹¡å¼µã™ã‚‹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Non-Rails Way&lt;/strong&gt;: Railsã®è¦ç´„ã‹ã‚‰å¤–ã‚Œã‚‹ç‹¬è‡ªå®Ÿè£…ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ã¾ãšã¯ã€ &lt;strong&gt;Rails Way&lt;/strong&gt; + &lt;strong&gt;Sub-Rails Way&lt;/strong&gt; ã§Fat Modelã‚’ãƒ€ã‚¤ã‚¨ãƒƒãƒˆã§ããªã„ã‹è€ƒãˆã¾ã—ã‚‡ã†ã€‚å°è¦æ¨¡ãªRailsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚ã‚Œã° Rails Way + Sub-Rails Way ã§ååˆ†æˆ¦ãˆã‚‹ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;Rails Way + Sub-Rails Way ã ã‘ã§ç«‹ã¡è¡Œã‹ãªããªã£ãŸå ´åˆã«ã€å¿…è¦ã«å¿œã˜ã¦é©åˆ‡ãª &lt;strong&gt;Non-Rails Way&lt;/strong&gt; ã‚’å–ã‚Šå…¥ã‚Œã¦ã„ãã¾ã—ã‚‡ã†ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Non-Rails Way&lt;/strong&gt; ã¯ãƒãƒ¼ãƒ æ¯ã«æœ€é©è§£ãŒã‚ã‚‹ã¨æ€ã£ã¦ã„ã¾ã™ã€‚ãƒãƒ¼ãƒ ã§åˆæ„ã§ãã‚‹ç‹¬è‡ªè·¯ç·šã‚’é¸æŠãƒ»å°å…¥ã™ã‚Œã°ã‚ˆã„ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒè³‡æ–™&quot;&gt;å‚è€ƒè³‡æ–™&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;æ›¸ç±
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://amzn.to/2TO3ZTe&quot;&gt;ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://amzn.to/2XfXKJT&quot;&gt;Clean Architectureã€€é”äººã«å­¦ã¶ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®æ§‹é€ ã¨è¨­è¨ˆ&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://amzn.to/3exaz8y&quot;&gt;ã‚¨ãƒªãƒƒã‚¯ãƒ»ã‚¨ãƒ´ã‚¡ãƒ³ã‚¹ã®ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://leanpub.com/growing-rails&quot;&gt;Growing Rails Applications in Practice&lt;/a&gt; by Henning Koch and Thomas Eisenbarth&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã¾ã¤ã‚ã‚‹è³‡æ–™
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://martinfowler.com/eaaDev/&quot;&gt;Martin Fowler: Development of Further Patterns of Enterprise Application Architecture&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html&quot;&gt;Clean Coder Blog: The Clean Architecture&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://jeffreypalermo.com/2008/07/the-onion-architecture-part-1/&quot;&gt;The Onion Architecture : part 1 | Programming with Palermo&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://guides.hanamirb.org/architecture/interactors/&quot;&gt;Architecture: Interactors | Hanami Guides&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://qiita.com/yuku_t/items/961194a5443b618a4cac&quot;&gt;ä¸­è¦æ¨¡Webé–‹ç™ºã®ãŸã‚ã®MVCåˆ†å‰²ã¨ãƒ¬ã‚¤ãƒ¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ - Qiita&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Railså…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://guides.rubyonrails.org/association_basics.html&quot;&gt;Active Record Associations â€” Ruby on Rails Guides&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://guides.rubyonrails.org/active_model_basics.html&quot;&gt;Active Model Basics â€” Ruby on Rails Guides&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html&quot;&gt;accepts_nested_attributes_for&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://api.rubyonrails.org/classes/ActiveRecord/Inheritance.html&quot;&gt;ActiveRecord::Inheritance&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://api.rubyonrails.org/v6.0.2.1/classes/ActiveSupport/Concern.html&quot;&gt;ActiveSupport::Concern&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Form Model (Form Object)ã«ã¤ã„ã¦
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://tech.libinc.co.jp/entry/2019/04/05/113000&quot;&gt;Railsã§è¤‡æ•°ãƒ¢ãƒ‡ãƒ«ã‚’æ‰±ã†ãƒ•ã‚©ãƒ¼ãƒ ã‚’ã™ã£ãã‚Šæ›¸ãï¼ˆFormã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰ - LiBz Tech Blog&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://moneyforward.com/engineers_blog/2018/12/15/formobject/&quot;&gt;accepts_nested_attributes_forã‚’ä½¿ã‚ãšã€è¤‡æ•°ã®å­ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ä¿å­˜ã™ã‚‹ | Money Forward Engineersâ€™ Blog&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://discourse.clean-rails.org/t/model-form-1-1/14&quot;&gt;Model ã¨ç”»é¢ä¸Šã® form ãŒ1å¯¾1ã§ä¸€è‡´ã—ãªã„å ´åˆã€ã©ã®ã‚ˆã†ã«å®Ÿè£…ã™ã‚‹ã®ãŒç¶ºéº—ãªã®ã‹ï¼Ÿ - clean-rails.org&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Service Class (Service Object) ã«ã¤ã„ã¦
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://techracho.bpsinc.jp/hachi8833/2017_10_16/46482&quot;&gt;Railsã§é‡è¦ãªãƒ‘ã‚¿ãƒ¼ãƒ³part 1: Service Objectï¼ˆç¿»è¨³ï¼‰ï½œTechRachoï¼ˆãƒ†ãƒƒã‚¯ãƒ©ãƒƒãƒãƒ§ï¼‰ã€œã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ã€Œï¼Ÿã€ã‚’ã€Œï¼ã€ã«ã€œï½œBPSæ ªå¼ä¼šç¤¾&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://qiita.com/joker1007/items/2a03500017766bdb0234&quot;&gt;ã¦ã‚ãˆã‚‰ã®Railsã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ã˜ã‚ƒã­ãˆï¼ã¾ãšã¯Callbackã‚¯ãƒ©ã‚¹ã€Validatorã‚¯ãƒ©ã‚¹ã‚’æ´»ç”¨ã—ã‚ï¼ - Qiita&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://intersect.whitefusion.io/the-art-of-code/why-service-objects-are-an-anti-pattern&quot;&gt;Why Service Objects are an Anti-Pattern â€” INTERSECT&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://techracho.bpsinc.jp/hachi8833/2018_04_16/55130&quot;&gt;Service ObjectãŒã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã‚ã‚‹ç†ç”±ã¨ã‚ˆã‚Šã‚ˆã„ä»£æ›¿æ‰‹æ®µï¼ˆç¿»è¨³ï¼‰ï½œTechRachoï¼ˆãƒ†ãƒƒã‚¯ãƒ©ãƒƒãƒãƒ§ï¼‰ã€œã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ã€Œï¼Ÿã€ã‚’ã€Œï¼ã€ã«ã€œï½œBPSæ ªå¼ä¼šç¤¾&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://speakerdeck.com/willnet/concerns-about-concerns&quot;&gt;Concerns about Concerns - Speaker Deck&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://tech.kitchhike.com/entry/2018/02/28/221159&quot;&gt;Decorator ã¨ Presenter ã‚’ä½¿ã„åˆ†ã‘ã¦ã€ Rails ã‚’ ViewModel ã§ã™ã£ãã‚Šã•ã›ã‚ˆã† - KitchHike Tech Blog&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://qiita.com/hanachin_/items/ba1dd93905567d88145c&quot;&gt;ActiveRecordã®ãƒ¢ãƒ‡ãƒ«ãŒ1ã¤ã ã¨ã¤ã‚‰ã„ - Qiita&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å¾Œç·¨è³ªå•æ„Ÿæƒ³ç·¨&quot;&gt;å¾Œç·¨ï¼ˆè³ªå•ãƒ»æ„Ÿæƒ³ç·¨ï¼‰&lt;/h2&gt;

&lt;p&gt;åˆ¥è¨˜äº‹ã«ã¾ã¨ã‚ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/how-to-deal-with-fat-model-after&quot;&gt;éŠ€åº§Rails#21ã§ã€ŒFat Modelã®å€’ã—æ–¹ã€ã‚’ç™ºè¡¨ã—ã¾ã—ãŸ ã€œè³ªå•ãƒ»æ„Ÿæƒ³ç·¨ã€œ&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;http://weblog.jamisbuck.org/2006/10/18/skinny-controller-fat-model&quot;&gt;Buckblog: Skinny Controller, Fat Model&lt;/a&gt;Â &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:a&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://speakerdeck.com/hshimoyama/rails-with-applicationmodel&quot;&gt;ApplicationModel ã®ã‚ã‚‹é¢¨æ™¯ - Speaker Deck&lt;/a&gt;Â &lt;a href=&quot;#fnref:a&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:b&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://speakerdeck.com/yasaichi/what-is-ruby-on-rails-and-how-to-deal-with-it&quot;&gt;Ruby on Railsã®æ­£ä½“ã¨å‘ãåˆã„æ–¹ - Speaker Deck&lt;/a&gt;Â &lt;a href=&quot;#fnref:b&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:c&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://leanpub.com/growing-rails&quot;&gt;Growing Rails Applications in Practice&lt;/a&gt;Â &lt;a href=&quot;#fnref:c&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:6&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://twitter.com/dhh/status/964244090224128001&quot;&gt;https://twitter.com/dhh/status/964244090224128001&lt;/a&gt;Â &lt;a href=&quot;#fnref:6&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:5&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;PoEAA: &lt;a href=&quot;https://www.martinfowler.com/eaaCatalog/singleTableInheritance.html&quot;&gt;Single Table Inheritance&lt;/a&gt;Â &lt;a href=&quot;#fnref:5&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:7&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://github.com/rails/rails/pull/26976#discussion_r87855694&quot;&gt;https://github.com/rails/rails/pull/26976#discussion_r87855694&lt;/a&gt;Â &lt;a href=&quot;#fnref:7&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:8&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;å‚è€ƒ: &lt;a href=&quot;https://amzn.to/3cekmi3&quot;&gt;ã€Rubyã«ã‚ˆã‚‹ãƒ†ã‚™ã‚µã‚™ã‚¤ãƒ³ãƒã‚šã‚¿ãƒ¼ãƒ³ã€&lt;/a&gt; ç¬¬11ç«  ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ”¹è‰¯ã™ã‚‹ï¼šDecoratorÂ &lt;a href=&quot;#fnref:8&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:10&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Ruby/Railså…¬å¼ã®æä¾›ã™ã‚‹æ©Ÿèƒ½ã¯gemã‚ˆã‚Šè²§å¼±ã ã£ãŸã‚Šã™ã‚‹ã®ã§ã‚ã—ã‹ã‚‰ãšÂ &lt;a href=&quot;#fnref:10&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;Â &lt;a href=&quot;#fnref:10:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name>Toshimaru</name></author><category term="presentation" /><category term="rails" /><category term="activerecord" /><summary type="html">éŠ€åº§Rails#21ã§ã€ŒFat Modelã®å€’ã—æ–¹ã€ã¨é¡Œã—ã¦ç™ºè¡¨ã—ã¦ãã¾ã—ãŸã€‚</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://blog.toshimaru.net/images/posts/ginzarails-21/og.jpg" /><media:content medium="image" url="https://blog.toshimaru.net/images/posts/ginzarails-21/og.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">[Ruby]æ—¥æ™‚ãŒç‰¹å®šæ—¥æ™‚ã®ç¯„å›²å†…ã«ã‚ã‚‹ã‹ã®ãƒã‚§ãƒƒã‚¯</title><link href="https://blog.toshimaru.net/datetime-range-check/" rel="alternate" type="text/html" title="[Ruby]æ—¥æ™‚ãŒç‰¹å®šæ—¥æ™‚ã®ç¯„å›²å†…ã«ã‚ã‚‹ã‹ã®ãƒã‚§ãƒƒã‚¯" /><published>2020-05-17T00:00:00+09:00</published><updated>2020-05-17T00:00:00+09:00</updated><id>https://blog.toshimaru.net/datetime-range-check</id><content type="html" xml:base="https://blog.toshimaru.net/datetime-range-check/">&lt;h1 id=&quot;timewithzonebetween-ã§ç¯„å›²å†…åˆ¤å®š&quot;&gt;TimeWithZone#between? ã§ç¯„å›²å†…åˆ¤å®š&lt;/h1&gt;

&lt;p&gt;ç‰¹å®šæ—¥ä»˜ãŒç¯„å›²å†…ã«ã‚ã‚‹ã‹ã®åˆ¤å®šã‚’è¡Œã†ã«ã¯ &lt;a href=&quot;https://railsdoc.github.io/classes/ActiveSupport/TimeWithZone.html#method-i-between-3F&quot;&gt;ActiveSupport::TimeWithZone#between?&lt;/a&gt; ãŒä½¿ãˆã‚‹ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# æ—¥æ™‚.between?(å§‹ç«¯, çµ‚ç«¯)&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;between?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;yesterday&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;tomorrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å®Ÿéš›ã«ç¯„å›²å†…ãƒã‚§ãƒƒã‚¯ã‚’è¡Œã†ã¨ã“ã‚“ãªæ„Ÿã˜ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;between?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;yesterday&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;tomorrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;between?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;week&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;ago&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;yesterday&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;between?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;tomorrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;week&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;since&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ãŸã ä¸Šè¨˜ã®æ›¸ãæ–¹ã®å ´åˆã€å§‹ç«¯ã‚‚ã—ãã¯çµ‚ç«¯ãŒ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nil&lt;/code&gt; ã®å ´åˆã«ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã—ã¾ã†ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;today&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;between?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;yesterday&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;ArgumentError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comparison&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;failed&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:in&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`between?`&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;rangecover-ã§ç¯„å›²å†…åˆ¤å®š&quot;&gt;Range#cover? ã§ç¯„å›²å†…åˆ¤å®š&lt;/h2&gt;

&lt;p&gt;ä¸Šè¿°ã®å•é¡ŒãŒå›é¿ã™ã‚‹ã«ã¯ã€Rubyã® &lt;a href=&quot;https://docs.ruby-lang.org/ja/2.7.0/method/Range/i/cover=3f.html&quot;&gt;Range#cover?&lt;/a&gt; ãŒä½¿ãˆã‚‹ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# (å§‹ç«¯..çµ‚ç«¯).cover? æ—¥æ™‚&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;yesterday&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;tomorrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;cover?&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;now&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;å§‹ç«¯çµ‚ç«¯ãŒ-nil-ã®å ´åˆ&quot;&gt;å§‹ç«¯/çµ‚ç«¯ãŒ nil ã®å ´åˆ&lt;/h3&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# å§‹ç«¯ãŒnil&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;tomorrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;cover?&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;now&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# çµ‚ç«¯ãŒnil&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;yesterday&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;cover?&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;now&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸‹è¨˜ã®é€šã‚Šç¯„å›²å†…ã‹ã‚‰å¤–ã‚ŒãŸå ´åˆã¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;false&lt;/code&gt; ãŒå¸°ã£ã¦ãã‚‹ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;yesterday&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;cover?&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;now&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;tomorrow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;cover?&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;now&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>Toshimaru</name></author><category term="ruby" /><category term="rails" /><summary type="html">TimeWithZone#between? ã§ç¯„å›²å†…åˆ¤å®š</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://blog.toshimaru.net/images/posts/ruby-range.png" /><media:content medium="image" url="https://blog.toshimaru.net/images/posts/ruby-range.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">docker-compose ã§ Rails6 + MySQL ãªç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹</title><link href="https://blog.toshimaru.net/rails-on-docker-compose/" rel="alternate" type="text/html" title="docker-compose ã§ Rails6 + MySQL ãªç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹" /><published>2019-12-31T00:00:00+09:00</published><updated>2020-01-02T00:00:00+09:00</updated><id>https://blog.toshimaru.net/rails-on-docker-compose</id><content type="html" xml:base="https://blog.toshimaru.net/rails-on-docker-compose/">&lt;p&gt;docker-compose ã‚’ä½¿ã£ã¦ Ruby 2.7 + Rails 6.0 + MySQL 8.0 ã®ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ã‚´ãƒ¼ãƒ«&quot;&gt;ã‚´ãƒ¼ãƒ«&lt;/h2&gt;

&lt;p&gt;ã‚´ãƒ¼ãƒ«ã¯Railsã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ›ãƒ¼ãƒ ç”»é¢ã‚’è¡¨ç¤ºã•ã›ã‚‹ã¨ã“ã‚ã¾ã§ã§ã™ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ‰‹é †&quot;&gt;æ‰‹é †&lt;/h2&gt;

&lt;p&gt;ä¸‹è¨˜ã®æ‰‹é †ã‚’ãƒ™ãƒ¼ã‚¹ã«é€²ã‚ã¦ã„ãã¾ã™â€¥&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.docker.com/compose/rails/&quot;&gt;Quickstart: Compose and Rails | Docker Documentation&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;dockerfile&quot;&gt;Dockerfile&lt;/h3&gt;

&lt;p&gt;é©å½“ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç”¨æ„ã—ã¦ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt;ã‚’ä¸‹è¨˜ã®é€šã‚Šç”¨æ„ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-dockerfile highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; ruby:2.7&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;RUN &lt;/span&gt;apt-get update &lt;span class=&quot;nt&quot;&gt;-qq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; apt-get &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt; nodejs yarnpkg
&lt;span class=&quot;k&quot;&gt;RUN &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /usr/bin/yarnpkg /usr/bin/yarn
&lt;span class=&quot;k&quot;&gt;RUN &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; /app
&lt;span class=&quot;k&quot;&gt;WORKDIR&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; /app&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;COPY&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; Gemfile /app/Gemfile&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;COPY&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; Gemfile.lock /app/Gemfile.lock&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;RUN &lt;/span&gt;bundle &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;COPY&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; . /app&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Add a script to be executed every time the container starts.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;COPY&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; entrypoint.sh /usr/bin/&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;RUN &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;chmod&lt;/span&gt; +x /usr/bin/entrypoint.sh
&lt;span class=&quot;k&quot;&gt;ENTRYPOINT&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; [&quot;entrypoint.sh&quot;]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;EXPOSE&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; 3000&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Start the main process.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CMD&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; [&quot;rails&quot;, &quot;server&quot;, &quot;-b&quot;, &quot;0.0.0.0&quot;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;yarnpkg&lt;/code&gt;ã§yarnã‚’å…¥ã‚Œã‚‹ã¨ã€yarn ã¨ã„ã†å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ãªã &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;yarnpkg&lt;/code&gt; ã¨ã„ã†å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã«ãªã£ã¦ã—ã¾ã†ã®ã§ã€ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ã‚’ä½œæˆã—ã¦ã„ã‚‹ç‚¹ã«ç•™æ„ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;åˆæœŸgemfile&quot;&gt;åˆæœŸGemfile&lt;/h3&gt;

&lt;p&gt;ä¸‹è¨˜ã®é€šã‚Š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Gemfile&lt;/code&gt;ã¨&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Gemfile.lock&lt;/code&gt;ã‚’ç”¨æ„ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'https://rubygems.org'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'rails'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'~&amp;gt;6'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;ä»Šå›ã¯ Rails v6 ï¼ˆç¾æ™‚ç‚¹ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰ã‚’ä½¿ã„ã¾ã™&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;touch &lt;/span&gt;Gemfile.lock
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;ç¾æ®µéšã§ã¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Gemfile.lock&lt;/code&gt; ã¯ç©ºã§OK&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;entrypointsh&quot;&gt;entrypoint.sh&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt;ã§&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ENTRYPOINT&lt;/code&gt;ã¨ã—ã¦å®šç¾©ã—ã¦ã„ã‚‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;entrypoint.sh&lt;/code&gt; ã§ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Remove a potentially pre-existing server.pid for Rails.&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; /app/tmp/pids/server.pid

&lt;span class=&quot;c&quot;&gt;# Then exec the container's main process (what's set as CMD in the Dockerfile).&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;exec&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$@&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;docker-composeyml&quot;&gt;docker-compose.yml&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker-compose.yml&lt;/code&gt;ã‚’ä¸‹è¨˜ã®é€šã‚Šç”¨æ„ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-yml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;3'&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;services&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;mysql:8.0&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;./tmp/db:/var/lib/mysql&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;MYSQL_ALLOW_EMPTY_PASSWORD=1&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;web&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;.&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;bash -c &quot;rm -f tmp/pids/server.pid &amp;amp;&amp;amp; bundle exec rails s -p 3000 -b '0.0.0.0'&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;volumes&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;.:/app&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;3000:3000&quot;&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;depends_on&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;db&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;MySQL ã¯ 8.0 ï¼ˆç¾æ™‚ç‚¹ã®æœ€æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰ã‚’ä½¿ç”¨&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MYSQL_ALLOW_EMPTY_PASSWORD&lt;/code&gt; ã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;password&lt;/code&gt; ãŒç©ºã§ã‚‚rootã§æ¥ç¶šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ãŠã&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;rails-new&quot;&gt;rails new&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rails new&lt;/code&gt; ã®ã‚³ãƒãƒ³ãƒ‰ã‚’webã‚³ãƒ³ãƒ†ãƒŠä¸Šã§å®Ÿè¡Œã—ã¦Railsã®ãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ã‚’ç”Ÿæˆã—ã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;docker-compose run web bundle &lt;span class=&quot;nb&quot;&gt;exec &lt;/span&gt;rails new &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--force&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--database&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;mysql
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--force&lt;/code&gt; ã§æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸Šæ›¸ã&lt;/li&gt;
  &lt;li&gt;DBã¯mysqlã‚’æŒ‡å®š&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Railsã®ãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ãŒ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rails new&lt;/code&gt; ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã£ã¦å‡ºæ¥ä¸ŠãŒã£ãŸã®ã§ build ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;docker-compose build
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;dbãƒ›ã‚¹ãƒˆåå¤‰æ›´&quot;&gt;DBãƒ›ã‚¹ãƒˆåå¤‰æ›´&lt;/h3&gt;

&lt;p&gt;ã“ã®ã¾ã¾ã§ã¯DBã«æ¥ç¶šã§ãã¾ã›ã‚“ã€‚ãªãœãªã‚‰ã° host åã‚’å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã‚‰ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹è¨˜ã®é€šã‚Š &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;config/database.yml&lt;/code&gt; ã®hostã®éƒ¨åˆ†ã‚’ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;db&lt;/code&gt; ã«ç½®ãæ›ãˆã¾ã—ã‚‡ã†ã€‚&lt;/p&gt;

&lt;div class=&quot;language-yml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;&amp;amp;default&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;mysql2&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;utf8mb4&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;pool&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;lt;%= ENV.fetch(&quot;RAILS_MAX_THREADS&quot;) { 5 } %&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;root&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;db&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;development&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;*default&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;database&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;app_development&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;*default&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;database&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;app_test&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;host&lt;/code&gt; ã« &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;db&lt;/code&gt; ã‚’è¨­å®š
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;db&lt;/code&gt; ã¯ã‚³ãƒ³ãƒ†ãƒŠåã«ãªã‚Šã¾ã™&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;buildå¾Œã« docker-compose up ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;docker-compose up
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;localhost:3000&lt;/code&gt; ã§RailsãŒç«‹ã¡ä¸ŠãŒã‚‹ã®ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;error-caching_sha2_password-could-not-be-loaded&quot;&gt;Error: caching_sha2_password could not be loaded&lt;/h2&gt;

&lt;p&gt;ã—ã‹ã—ã“ã“ã§Railsã«æ¥ç¶šã™ã‚‹ã¨ã€ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ActiveRecord::NoDatabaseError

Plugin caching_sha2_password could not be loaded: /usr//usr/lib/x86_64-linux-gnu/mariadb19/plugin/caching_sha2_password.so: cannot open shared object file: No such file or directory
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ã“ã‚Œã¯webã‚³ãƒ³ãƒ†ãƒŠãŒ mysql 8.0 ã®&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;caching_sha2_password&lt;/code&gt;èªè¨¼æ–¹å¼ã«å¯¾å¿œã—ã¦ã„ãªã„ãŸã‚ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹è¨˜ã®æ‰‹é †ã§ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;caching_sha2_password&lt;/code&gt; ã‚’ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mysql_native_password&lt;/code&gt;ï¼ˆæ—§æ¥ã®èªè¨¼æ–¹å¼ï¼‰ã«å¤‰æ›´ã—ã¾ã—ã‚‡ã†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;dbã‚³ãƒ³ãƒ†ãƒŠã§mysqlã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆèµ·å‹•&quot;&gt;DBã‚³ãƒ³ãƒ†ãƒŠã§mysqlã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆèµ·å‹•&lt;/h3&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;docker-compose &lt;span class=&quot;nb&quot;&gt;exec &lt;/span&gt;db bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;dbã‚³ãƒ³ãƒ†ãƒŠã®bashã‚’èµ·å‹•å¾Œã«mysqlã‚³ãƒãƒ³ãƒ‰ã§æ¥ç¶šã—ã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;mysql &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt; root
&lt;span class=&quot;gp&quot;&gt;Welcome to the MySQL monitor.  Commands end with ;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;or &lt;span class=&quot;se&quot;&gt;\g&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;Your MySQL connection id is 9
Server version: 8.0.18 MySQL Community Server - GPL

&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;èªè¨¼æ–¹å¼å¤‰æ›´sql&quot;&gt;èªè¨¼æ–¹å¼å¤‰æ›´SQL&lt;/h3&gt;

&lt;p&gt;ä¸‹è¨˜ã®ã‚¯ã‚¨ãƒªã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ã¨ãã®èªè¨¼æ–¹å¼ãŒé–²è¦§ã§ãã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select User,Host,plugin from mysql.user;
+------------------+-----------+-----------------------+
| User             | Host      | plugin                |
+------------------+-----------+-----------------------+
| root             | %         | caching_sha2_password |
| mysql.infoschema | localhost | caching_sha2_password |
| mysql.session    | localhost | caching_sha2_password |
| mysql.sys        | localhost | caching_sha2_password |
| root             | localhost | caching_sha2_password |
+------------------+-----------+-----------------------+
5 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å…¨ã¦ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;caching_sha2_password&lt;/code&gt; ã«è¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚’&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mysql_native_password&lt;/code&gt;ã«å¤‰æ›´ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä»Šå›å¯¾è±¡ã¨ãªã‚‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;root@%&lt;/code&gt; ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šã‚’ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ALTER USER&lt;/code&gt; ã‚’ä½¿ã£ã¦å¤‰æ›´ã—ã¾ã—ã‚‡ã†ã€‚&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;ALTER&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;USER&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'root'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'%'&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IDENTIFIED&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WITH&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mysql_native_password&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;''&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;-- Query OK, 0 rows affected (0.02 sec)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¤‰æ›´ã•ã‚Œã¾ã—ãŸã€‚&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mysql&amp;gt; select User,Host,plugin from mysql.user;
+------------------+-----------+-----------------------+
| User             | Host      | plugin                |
+------------------+-----------+-----------------------+
| root             | %         | mysql_native_password |
| mysql.infoschema | localhost | caching_sha2_password |
| mysql.session    | localhost | caching_sha2_password |
| mysql.sys        | localhost | caching_sha2_password |
| root             | localhost | caching_sha2_password |
+------------------+-----------+-----------------------+
5 rows in set (0.00 sec)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;yay-youre-on-rails&quot;&gt;â€œYay! Youâ€™re on Rails!â€&lt;/h2&gt;

&lt;p&gt;DBãŒä½œæˆã•ã‚Œã¦ã„ãªã„ã‚ˆã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºã‚‹ã®ã§ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;db:prepare&lt;/code&gt; ã§ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;docker-compose &lt;span class=&quot;nb&quot;&gt;exec &lt;/span&gt;web bundle &lt;span class=&quot;nb&quot;&gt;exec &lt;/span&gt;rails db:prepare
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ã“ã‚Œã§Railsã®ãƒ›ãƒ¼ãƒ ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/docker/railshome.png&quot; alt=&quot;rails home&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;éå»ã«åŒã˜ã“ã¨ã‚’ã‚„ã£ãŸã¨ãã®ã‚¨ãƒ³ãƒˆãƒª: &lt;a href=&quot;docker-compose-rails/&quot;&gt;docker-compose ã§ Rails ç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Toshimaru</name></author><category term="docker" /><category term="mysql" /><category term="rails" /><summary type="html">docker-compose ã‚’ä½¿ã£ã¦ Ruby 2.7 + Rails 6.0 + MySQL 8.0 ã®ç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://blog.toshimaru.net/images/posts/docker/yaml.png" /><media:content medium="image" url="https://blog.toshimaru.net/images/posts/docker/yaml.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">ActiveRecordã§has_oneã‚’æŒã£ãŸãƒ¢ãƒ‡ãƒ«ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¦é–¢é€£ã‚’å®šç¾©ã™ã‚‹æ–¹æ³•</title><link href="https://blog.toshimaru.net/belongs-to-foreign-key-and-primary-key/" rel="alternate" type="text/html" title="ActiveRecordã§has_oneã‚’æŒã£ãŸãƒ¢ãƒ‡ãƒ«ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¦é–¢é€£ã‚’å®šç¾©ã™ã‚‹æ–¹æ³•" /><published>2019-11-10T00:00:00+09:00</published><updated>2019-11-10T00:00:00+09:00</updated><id>https://blog.toshimaru.net/belongs-to-foreign-key-and-primary-key</id><content type="html" xml:base="https://blog.toshimaru.net/belongs-to-foreign-key-and-primary-key/">&lt;h2 id=&quot;ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹æˆ&quot;&gt;ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹æˆ&lt;/h2&gt;

&lt;p&gt;ã¨ã‚ã‚‹Railsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã“ã‚“ãªãƒ†ãƒ¼ãƒ–ãƒ«æ§‹æˆãŒã‚ã£ãŸã¨ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/belongs-to-foreign-key-and-primary-key/users-posts.png&quot; alt=&quot;table relation&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;railsãƒ¢ãƒ‡ãƒ«å®šç¾©&quot;&gt;Railsãƒ¢ãƒ‡ãƒ«å®šç¾©&lt;/h2&gt;

&lt;p&gt;Railsãƒ¢ãƒ‡ãƒ«ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªçŠ¶æ…‹ã§ã™ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;User&lt;/code&gt;ï¼‰ã¯è¤‡æ•°ã®è¨˜äº‹ï¼ˆ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Post&lt;/code&gt;ï¼‰ãƒ‡ãƒ¼ã‚¿ã‚’ã‚‚ã£ã¦ã„ã‚‹&lt;/li&gt;
  &lt;li&gt;ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;User&lt;/code&gt;ï¼‰ã¯ï¼‘ã¤ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ï¼ˆ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Profile&lt;/code&gt;ï¼‰ãƒ‡ãƒ¼ã‚¿ã‚’ã‚‚ã£ã¦ã„ã‚‹&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationRecord&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;has_many&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:posts&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;has_one&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:profile&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Post&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationRecord&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Profile&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationRecord&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;has_oneã‚’ã‚‚ã£ãŸãƒ¢ãƒ‡ãƒ«ã‚’ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹&quot;&gt;has_oneã‚’ã‚‚ã£ãŸãƒ¢ãƒ‡ãƒ«ã‚’ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹&lt;/h2&gt;

&lt;p&gt;ã‚„ã‚ŠãŸã„ã“ã¨ã¨ã—ã¦ã¯ã“ã®ãƒ¢ãƒ‡ãƒ«æ§‹æˆã®ä¸­å¿ƒã«ã„ã‚‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;User&lt;/code&gt; ã®é–¢é€£ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¦ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Post&lt;/code&gt; ã¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Profile&lt;/code&gt; ã‚’ç›´æ¥é–¢é€£ä»˜ã‘ã¦ã‚„ã‚‹ã“ã¨ã§ã™ã€‚ã¤ã¾ã‚Š &lt;strong&gt;User has_one Profile&lt;/strong&gt;, &lt;strong&gt;User has_many Posts&lt;/strong&gt; ã®é–¢ä¿‚ã‚’ã€&lt;strong&gt;Profile has_many Posts&lt;/strong&gt; ã®é–¢ä¿‚ã«ã—ã¡ã‚ƒãŠã†ã€ã¨ã„ã†ã“ã¨ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©ã§è¡¨ç¾ã™ã‚‹ã¨ä¸‹å›³ã®èµ¤ç·šã®éƒ¨åˆ†ãŒä»Šå›ã‚„ã‚ŠãŸã„é–¢é€£ã®å®šç¾©ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/posts/belongs-to-foreign-key-and-primary-key/users-posts2.png&quot; alt=&quot;model relation 2&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ãƒ¢ãƒ‡ãƒ«å®šç¾©&quot;&gt;ãƒ¢ãƒ‡ãƒ«å®šç¾©&lt;/h3&gt;

&lt;p&gt;ä¸Šè¨˜ã®ã‚„ã‚ŠãŸã„ã“ã¨ã¯ã‚¢ã‚½ã‚·ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã®å®šç¾©ã«ãŠã„ã¦ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;foreign_key&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;primary_key&lt;/code&gt; ãªã©ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’é§†ä½¿ã—ã¦å®Ÿç¾å¯èƒ½ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹è¨˜ãŒãã®ã‚¢ã‚½ã‚·ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³å®šç¾©ã®å®Œæˆå½¢ã¨ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationRecord&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;has_many&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:posts&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;has_one&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:profile&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Post&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationRecord&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:profile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;foreign_key: :user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;primary_key: :user_id&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Profile&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationRecord&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;has_many&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:posts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;foreign_key: :user_id&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ã“ã®å®šç¾©ã«ã‚ˆã‚Š &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Post&lt;/code&gt; â†’ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Profile&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Profile&lt;/code&gt; â†’ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Post&lt;/code&gt; ã®åŒæ–¹å‘ã®é–¢é€£ä»˜ã‘ãŒå®šç¾©ã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;profile&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#  Post Load (1.2ms)  SELECT  `posts`.* FROM `posts` ORDER BY `posts`.`id` ASC LIMIT 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#  Profile Load (3.9ms)  SELECT  `profiles`.* FROM `profiles` WHERE `profiles`.`user_id` = 1 LIMIT 1&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#&amp;lt;Profile id: 1, user_id: 1, ...&quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Profile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;posts&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#  Profile Load (0.8ms)  SELECT  `profiles`.* FROM `profiles` ORDER BY `profiles`.`id` ASC LIMIT 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#  Post Load (0.4ms)  SELECT  `posts`.* FROM `posts` WHERE `posts`.`user_id` = 1 LIMIT 11&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#&amp;lt;ActiveRecord::Associations::CollectionProxy [#&amp;lt;Post id: 1, user_id: 1, ...&quot;&amp;gt;, #&amp;lt;Post id: 2, user_id: 1, ...]&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šçµæœã®é€šã‚Šã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;User Load&lt;/code&gt;ã‚’é€šã™ã“ã¨ãªããŠäº’ã„ã‚’å‘¼ã³å‡ºã™ã“ã¨ãŒã§ãã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã—ãŸã€‚&lt;/p&gt;

&lt;h2 id=&quot;inverse_of-ã‚’è¨­å®šã™ã‚‹&quot;&gt;inverse_of ã‚’è¨­å®šã™ã‚‹&lt;/h2&gt;

&lt;p&gt;ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã§ã‚„ã‚ŠãŸã„ã“ã¨ãŒå®Ÿç¾ã§ãã¾ã—ãŸãŒã€ã¾ã ï¼‘ã¤ã ã‘å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œã¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;foreign_key&lt;/code&gt; ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ã„ã‚‹ãŸã‚ã«ã€åŒæ–¹å‘ã®é–¢é€£ä»˜ã‘ãŒä¸å®Œå…¨ã«è¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Active Recordã§ã¯æ¨™æº–çš„ãªåå‰åŒå£«ã®é–¢é€£ä»˜ã‘ã®ã»ã¨ã‚“ã©ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¦ã€è‡ªå‹•çš„ã«èªè­˜ã§ãã¾ã™ã€‚ãŸã ã—ã€Active Recordã§ã‚¹ã‚³ãƒ¼ãƒ—ã‚„æ¬¡ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ãŸå ´åˆã€åŒæ–¹å‘ã®é–¢é€£ä»˜ã‘ã¯è‡ªå‹•çš„ã«èªè­˜ã•ã‚Œã¾ã›ã‚“ã€‚&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:through&lt;/code&gt;&lt;/li&gt;
    &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:foreign_key&lt;/code&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;via. &lt;a href=&quot;https://railsguides.jp/association_basics.html#%E5%8F%8C%E6%96%B9%E5%90%91%E9%96%A2%E9%80%A3%E4%BB%98%E3%81%91&quot;&gt;Active Record ã®é–¢é€£ä»˜ã‘ - Rails ã‚¬ã‚¤ãƒ‰&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å®Ÿéš›ã«è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã™ã‚‹ã¨ä¸‹è¨˜ã®é€šã‚Šã€åŒã˜idã‚’æŒã£ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã‚‚ã‹ã‹ã‚ã‚‰ãšé•ã†ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;profile1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Profile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;first&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#&amp;lt;Profile id: 1, user_id: 1, ...&quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;profile2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;profile1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;posts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;profile&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;#&amp;lt;Profile id: 1, user_id: 1, ...&quot;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;profile1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;equal?&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;profile2&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ãƒ¢ãƒ‡ãƒ«å®šç¾©inverse_of-version&quot;&gt;ãƒ¢ãƒ‡ãƒ«å®šç¾©ï¼ˆinverse_of versionï¼‰&lt;/h3&gt;

&lt;p&gt;ã“ã‚Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã« &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;inverse_of&lt;/code&gt; ã‚’è¨­å®šã—ã¾ã™ã€‚ä¸Šè¿°ã®ã‚³ãƒ¼ãƒ‰ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationRecord&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;has_many&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:posts&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;has_one&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:profile&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Post&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationRecord&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:profile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;foreign_key: :user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;primary_key: :user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;inverse_of: :posts&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Profile&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ApplicationRecord&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;belongs_to&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:user&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;has_many&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:posts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;foreign_key: :user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;inverse_of: :profile&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ã“ã‚Œã§ä¸‹è¨˜ã‚³ãƒ¼ãƒ‰ã¯åŒã˜ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ãªã‚Šã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;true&lt;/code&gt;ã‚’è¿”ã™ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;profile1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Profile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;first&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;profile2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;profile1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;posts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;profile&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;profile1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;equal?&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;profile2&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;éå»ã«æ›¸ã„ãŸé–¢é€£è¨˜äº‹&quot;&gt;éå»ã«æ›¸ã„ãŸé–¢é€£è¨˜äº‹&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;/belongs_to-through/&quot;&gt;ActiveRecordã§has_many, throughã¨ã¯é€†ã®é–¢é€£ã‚’å®šç¾©ã™ã‚‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://railsdoc.github.io/classes/ActiveRecord/Associations/ClassMethods.html#method-i-belongs_to&quot;&gt;ActiveRecord::Associations::ClassMethods - belongs_to | RailsDoc(Î²)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://railsdoc.github.io/classes/ActiveRecord/Associations/ClassMethods.html#method-i-has_many&quot;&gt;ActiveRecord::Associations::ClassMethods - has_many | RailsDoc(Î²)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Toshimaru</name></author><category term="activerecord" /><category term="rails" /><summary type="html">ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹æˆ</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://blog.toshimaru.net/images/posts/belongs-to-foreign-key-and-primary-key/og.png" /><media:content medium="image" url="https://blog.toshimaru.net/images/posts/belongs-to-foreign-key-and-primary-key/og.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Rails on Docker ç’°å¢ƒã§ã® SystemSpec ç’°å¢ƒæ§‹ç¯‰</title><link href="https://blog.toshimaru.net/rails-on-docker-system-spec/" rel="alternate" type="text/html" title="Rails on Docker ç’°å¢ƒã§ã® SystemSpec ç’°å¢ƒæ§‹ç¯‰" /><published>2019-09-18T00:00:00+09:00</published><updated>2019-09-18T00:00:00+09:00</updated><id>https://blog.toshimaru.net/rails-on-docker-system-spec</id><content type="html" xml:base="https://blog.toshimaru.net/rails-on-docker-system-spec/">&lt;p&gt;Rails on Docker ãªç’°å¢ƒä¸Šã« SystemSpec(System Test + RSpec) ã‚’å°å…¥ã—ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç’°å¢ƒ&quot;&gt;ç’°å¢ƒ&lt;/h2&gt;

&lt;p&gt;ä»Šå›SystemSpecã‚’å°å…¥ã—ãŸã®ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªç’°å¢ƒã§ã™ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: &lt;a href=&quot;https://github.com/toshimaru/RailsTwitterClone/&quot;&gt;RailsTwitterClone&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;docker-compose&lt;/li&gt;
  &lt;li&gt;Ruby 2.6&lt;/li&gt;
  &lt;li&gt;chromium-driver&lt;/li&gt;
  &lt;li&gt;gem
    &lt;ul&gt;
      &lt;li&gt;rails (5.2)&lt;/li&gt;
      &lt;li&gt;rspec-rails&lt;/li&gt;
      &lt;li&gt;selenium-webdriver&lt;/li&gt;
      &lt;li&gt;capybara&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å¯¾å¿œpull-request&quot;&gt;å¯¾å¿œPull Request&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/toshimaru/RailsTwitterClone/pull/506/files&quot;&gt;Re-try System Spec by toshimaru Â· Pull Request #506 Â· toshimaru/RailsTwitterClone&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;ç§ã®systemspecé…ã™ã&quot;&gt;ç§ã®SystemSpecã€é…ã™ãâ€¦ï¼Ÿ&lt;/h2&gt;

&lt;p&gt;å®Ÿã¯ SystemSpec ã‚’å°å…¥ã—ã‚ˆã†ã¨è©¦ã¿ãŸã®ã¯ä»Šå›ã§äºŒå›ç›®ã§ã™ã€‚ä¸€å›ç›®ã¯ SystemTest ãŒ Rails ã®æ©Ÿèƒ½ã®ä¸€ã¤ã¨ã—ã¦ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦é–“ã‚‚ãªã„é ƒã«è©¦ã—ãŸã®ã§ã™ãŒã€ãƒ†ã‚¹ãƒˆå…¨ä½“ã«ã‹ã‹ã‚‹æ™‚é–“ãŒåŠ‡çš„ã«é…ããªã£ãŸãŸã‚ã€å°å…¥ã‚’æ–­å¿µã—ãŸã¨ã„ã†çµŒç·¯ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;å½“æ™‚ã®Pull RequestãŒã“ã¡ã‚‰: &lt;a href=&quot;https://github.com/toshimaru/RailsTwitterClone/pull/216&quot;&gt;Try System Spec by toshimaru Â· Pull Request #216 Â· toshimaru/RailsTwitterClone&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Before&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Finished in 15.74 seconds (files took 7.65 seconds to load)
152 examples, 0 failures
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;

  &lt;p&gt;After&lt;/p&gt;

  &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Finished in 58.46 seconds (files took 7.64 seconds to load)
152 examples, 3 failures
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;  &lt;/div&gt;
&lt;/blockquote&gt;

&lt;p&gt;ã—ã‹ã—ã“ã‚Œã¯çµæœã‹ã‚‰ã„ã†ã¨è¨­å®šãŒæ‚ªã‹ã£ãŸã®ã§ã—ãŸã€‚ä¸‹è¨˜ã®ã‚ˆã†ã« system ãƒ†ã‚¹ãƒˆã‚’ Headless Chrome ã§èµ°ã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ã„ã¾ã—ãŸãŒã€ã“ã‚Œã ã¨ã™ã¹ã¦ã® System ãƒ†ã‚¹ãƒˆãŒ Headless Chrome ãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹•ã—ã¦ã—ã¾ã„ã€çµæœçš„ã«é…ããªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;RSpec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;configure&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;before&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:each&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;type: :system&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;driven_by&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:selenium_chrome_headless&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸‹è¨˜ã®ã‚ˆã†ã«JSã‚’èµ·å‹•ã•ã›ã‚‹å¿…è¦ã®ãªã„ System ãƒ†ã‚¹ãƒˆã¯å¾“æ¥é€šã‚Šã®&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rack_test&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;js: true&lt;/code&gt;ãªãƒ†ã‚¹ãƒˆã¯&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;selenium_chrome_headless&lt;/code&gt;ã«è¨­å®šã—ã¦ã‚„ã‚Œã°ãƒ†ã‚¹ãƒˆå…¨ä½“ãŒé«˜é€Ÿã«å®Ÿè¡Œå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;RSpec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;configure&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;before&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:each&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;type: :system&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;driven_by&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:rack_test&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;before&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:each&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;type: :system&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;js: &lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;driven_by&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:selenium_chrome_headless&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;dockerfile&quot;&gt;Dockerfile&lt;/h2&gt;

&lt;p&gt;ä»Šå›åˆ©ç”¨ã—ãŸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt; ã¯ Ruby 2.6 ã®ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã« &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;chromium-driver&lt;/code&gt; ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚³ãƒ³ãƒ†ãƒŠã¨ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-dockerfile highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; ruby:2.6&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;RUN &lt;/span&gt;apt-get update &lt;span class=&quot;nt&quot;&gt;-qq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; apt-get &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt; nodejs chromium-driver 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;chrome-failed-to-start-exited-abnormally&quot;&gt;Chrome failed to start: exited abnormally&lt;/h3&gt;

&lt;p&gt;ã—ã‹ã—ã€ä¸Šè¿°ã®ç’°å¢ƒã«ãŠã„ã¦&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rspec&lt;/code&gt;ã‚’å®Ÿè¡Œã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Failure/Error: Unable to infer file and line number from backtrace

  Selenium::WebDriver::Error::UnknownError:
      unknown error: Chrome failed to start: exited abnormally
      (unknown error: DevToolsActivePort file doesn't exist)
      (The process started from chrome location /usr/bin/chromium is no longer running, so ChromeDriver is assuming that Chrome has crashed.)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ã“ã®ã‚¨ãƒ©ãƒ¼ã¯ Chrome ãŒ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sandbox&lt;/code&gt;ãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹•ã—ã¦ã„ã‚‹ã“ã¨ã«èµ·å› ã—ã¾ã™ã€‚ä¸‹è¨˜ã®ã‚ˆã†ãª&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;no-sandbox&lt;/code&gt;ã‚ªãƒ—ã‚·ãƒ§ãƒ³ä»˜ãã® Headless Chrome ã‚’ Capybara ã« driver ã¨ã—ã¦ç™»éŒ²ã—ã¦ã‚„ã‚‹ã“ã¨ã§å›é¿ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;Capybara&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;register_driver&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:headless_chrome&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;browser_options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Selenium&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;WebDriver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Chrome&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;tap&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;args&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;--headless&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;args&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;--disable-gpu&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;args&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;--no-sandbox&quot;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;no&quot;&gt;Capybara&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Selenium&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Driver&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;browser: :chrome&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;options: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;browser_options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ã“ã†ã—ã¦ç™»éŒ²ã—ãŸ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;headless_chrome&lt;/code&gt;ã‚’SystemTestã«å¯¾ã—ã¦é©å¿œã•ã›ã¦ã‚„ã‚Œã°OKã§ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;RSpec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;configure&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;before&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:each&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;type: :system&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;js: &lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;driven_by&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:headless_chrome&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ã“ã‚Œã§ãã¡ã‚“ã¨Dockerä¸Šã§SystemSpecãŒé€šã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;docker-compose run web rspec
&lt;span class=&quot;go&quot;&gt;
Randomized with seed 30150
............................................................................................................Capybara starting Puma...
* Version 4.1.1 , codename: Fourth and One
* Min threads: 0, max threads: 4
* Listening on tcp://127.0.0.1:38789
&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;...............................................
&lt;/span&gt;&lt;span class=&quot;go&quot;&gt;
Finished in 19.87 seconds (files took 8.8 seconds to load)
155 examples, 0 failures
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;å…¬å¼ã§ã¯no-sandboxã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ã¯ã—ã¦ãã‚Œãªã„&quot;&gt;å…¬å¼ã§ã¯no-sandboxã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«ã¯ã—ã¦ãã‚Œãªã„ï¼Ÿ&lt;/h2&gt;

&lt;p&gt;ä½™è«‡ã§ã™ãŒã€Capybaraæœ¬ä½“ã§ç™»éŒ²ã•ã‚Œã¦ã„ã‚‹&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;selenium_chrome_headless&lt;/code&gt;ã«&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;no-sandbox&lt;/code&gt;ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ä¸ã™ã‚‹å¤‰æ›´ã‚’PRã—ã¦ã¿ã¾ã—ãŸãŒã€ä¸‹è¨˜ã®é€šã‚ŠRejectã•ã‚Œã¦ã—ã¾ã„ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/teamcapybara/capybara/pull/2241&quot;&gt;Add &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;no-sandbox&lt;/code&gt; option for selenium_chrome_headless by toshimaru Â· Pull Request #2241 Â· teamcapybara/capybara&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;securityã‚’æ‹…ä¿ã™ã‚‹ãŸã‚ã®sandbox&quot;&gt;Securityã‚’æ‹…ä¿ã™ã‚‹ãŸã‚ã®sandbox&lt;/h3&gt;

&lt;p&gt;sandboxã¯ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚’é«˜ã‚ã‚‹ãŸã‚ã®ç’°å¢ƒãªã®ã§åŸºæœ¬çš„ã«ã¯ &lt;strong&gt;ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ no-sandbox ã«ã™ã‚‹ã¹ãã§ã¯ãªã„&lt;/strong&gt; ã¨ã„ã†åˆ¤æ–­ã®ã‚ˆã†ã§ã™ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Sandbox leverages the OS-provided security to allow code execution that cannot make persistent changes to the computer or access information that is confidential.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;via. &lt;a href=&quot;https://chromium.googlesource.com/chromium/src/+/master/docs/design/sandbox.md&quot;&gt;Sandbox&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://qiita.com/ngron/items/f61b8635b4d67f666d75&quot;&gt;Rails + Selenium + Dockerã§SystemSpecã®ç’°å¢ƒæ§‹ç¯‰ - Qiita&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://news.mynavi.jp/article/20081009-a027/&quot;&gt;Google Chrome ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ã§å®Ÿç¾ã™ã‚‹ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã€Windowsã®æ©Ÿèƒ½ã«ä¾å­˜ | ãƒã‚¤ãƒŠãƒ“ãƒ‹ãƒ¥ãƒ¼ã‚¹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Toshimaru</name></author><category term="rspec" /><category term="rails" /><category term="docker" /><summary type="html">Rails on Docker ãªç’°å¢ƒä¸Šã« SystemSpec(System Test + RSpec) ã‚’å°å…¥ã—ã¾ã—ãŸã€‚</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://blog.toshimaru.net/images/posts/systemspec/og.jpg" /><media:content medium="image" url="https://blog.toshimaru.net/images/posts/systemspec/og.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">SmartHRç¤¾ã«ä½“é¨“å…¥ç¤¾ã—ã¦ããŸ</title><link href="https://blog.toshimaru.net/smarthr-job-trial/" rel="alternate" type="text/html" title="SmartHRç¤¾ã«ä½“é¨“å…¥ç¤¾ã—ã¦ããŸ" /><published>2019-07-22T00:00:00+09:00</published><updated>2019-07-22T00:00:00+09:00</updated><id>https://blog.toshimaru.net/smarthr-job-trial</id><content type="html" xml:base="https://blog.toshimaru.net/smarthr-job-trial/">&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;ja&quot; dir=&quot;ltr&quot;&gt;ä½“é¨“å…¥ç¤¾ã—ã¦ã¾ã™ &lt;a href=&quot;https://t.co/f2Ga5LE5Es&quot;&gt;pic.twitter.com/f2Ga5LE5Es&lt;/a&gt;&lt;/p&gt;&amp;mdash; toshimaru (@toshimaru_e) &lt;a href=&quot;https://twitter.com/toshimaru_e/status/1149139455657119744?ref_src=twsrc%5Etfw&quot;&gt;July 11, 2019&lt;/a&gt;&lt;/blockquote&gt;

&lt;p&gt;SmartHRç¤¾ã®ä½“é¨“å…¥ç¤¾ã«å‚åŠ ã—ã¦ãã¾ã—ãŸã€‚åŒç¤¾ã®ä½“é¨“å…¥ç¤¾åˆ¶åº¦ã«é–¢ã—ã¦ã¯ä¸‹è¨˜ã®è¨˜äº‹ã«è©³ã—ã„ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://tech.smarthr.jp/entry/2018/09/20/120000&quot;&gt;ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‘ã‘ã®ä½“é¨“å…¥ç¤¾åˆ¶åº¦ãŒã§ãã¾ã—ãŸ - SmartHR Tech Blog&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ä»Šå›ã¯ä½“é¨“å…¥ç¤¾ã‚’ï¼‘ã‚¹ãƒ—ãƒªãƒ³ãƒˆåˆ†ã®ä¸€é€±é–“ã€å–¶æ¥­æ—¥æ›ç®—ã§ï¼”æ—¥é–“ä½“é¨“å…¥ç¤¾ã•ã›ã¦ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;h2 id=&quot;ãªãœå‚åŠ ã—ãŸã‹&quot;&gt;ãªãœå‚åŠ ã—ãŸã‹ï¼Ÿ&lt;/h2&gt;

&lt;p&gt;SmartHRç¤¾ã®ã“ã¨ã¯&lt;a href=&quot;https://blog.shojimiyata.com/entry/2018/06/01/112424&quot;&gt;RubyKaigi&lt;/a&gt;ã‚„&lt;a href=&quot;https://speakerdeck.com/miyasho88/we-are-hiring&quot;&gt;ä¼šç¤¾ç´¹ä»‹è³‡æ–™&lt;/a&gt;ãªã©ã‚’é€šã—ã¦çŸ¥ã£ã¦ãŠã‚Šã€å‚ç›®ã‹ã‚‰è‰¯ã„ä¼šç¤¾ãã†ã ãªãã¨ã„ã†å°è±¡ã¯æŒã£ã¦ã„ã¾ã—ãŸã€‚å®Ÿéš›ã«SmartHRã®ä¸­ã®äººãŸã¡ã¨ã‚‚é¢è«‡ã‚’é€šã—ã¦ç›´æ¥è©±ã™ä¸­ã§ã€SmartHRç¤¾ã§ã®åƒãæ–¹ã«èˆˆå‘³ãŒæ¹§ãã€ä»Šå›ã€Œä½“é¨“å…¥ç¤¾ã‚’ã—ã¦ã¿ãŸã„ï¼ã€ã¨ã„ã†åƒ•ã®ç”³ã—å‡ºã‚’å—ã‘å…¥ã‚Œã¦ã‚‚ã‚‰ã£ãŸã‹ãŸã¡ã¨ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;åƒ•ãŒç‰¹ã«SmartHRç¤¾ã«é–¢ã—ã¦è‰¯ã„ã¨æ€ã£ãŸç‚¹ã€èˆˆå‘³ãŒã‚ã£ãŸç‚¹ã¯ä¸‹è¨˜ã§ã™ã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;ã‚ªãƒ¼ãƒ—ãƒ³ãªç¤¾é¢¨&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;ä¼šç¤¾ã¨ã—ã¦ï¼œã‚ªãƒ¼ãƒ—ãƒ³ãªç¤¾é¢¨ï¼ãŒæ ¹ä»˜ã„ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹å—ã‘ã‚‰ã‚Œã€è‰¯ã„ã¨æ€ã£ãŸ&lt;/li&gt;
      &lt;li&gt;ã“ã®ã‚ªãƒ¼ãƒ—ãƒ³ãªç¤¾é¢¨ã¨ã„ã†ãƒˆãƒ”ãƒƒã‚¯ã«é–¢ã—ã¦ã¯ä¸‹è¨˜ã®ãƒ–ãƒ­ã‚°ã«è©³ã—ã„ã§ã™
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;https://blog.shojimiyata.com/entry/2018/02/15/125904&quot;&gt;SmartHR ãŒçµ„ç¹”é‹å–¶ã§ä¸€ç•ªå¤§åˆ‡ã«ã—ã¦ã„ã‚‹ã“ã¨ - å®®ç”°æ˜‡å§‹ã®ãƒ–ãƒ­ã‚°&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ä¼æ¥­ã¨ã—ã¦ã¯ã‚ã‚Šãˆãªã„é€€è·ç‡ã®ä½ã•&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;åƒ•è‡ªèº«ã€30äººãã‚‰ã„ã®è¦æ¨¡ã‹ã‚‰æ•°ç™¾äººè¦æ¨¡ã«ãªã£ã¦ã„ãçµ„ç¹”ã®ã‚¹ã‚±ãƒ¼ãƒ«éç¨‹ã‚’èº«ã‚’ã‚‚ã£ã¦ä½“é¨“ã—ã¾ã—ãŸãŒã€ã“ã†ã„ã†ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ä¼æ¥­ã¯ç«¯çš„ã«è¨€ã£ã¦ï¼œæ¿€å‹•ã®æ™‚ä»£ï¼ã¨ãªã‚Šã¾ã™ã€‚ãã®è’æ³¢ã®ä¸­ã«ã‚ã£ã¦ã¯æŒ¯ã‚Šè½ã¨ã•ã‚Œã‚‹äººãŒã„ãŸã‚Šã€ã„ã‚ã‚†ã‚‹éŸ³æ¥½æ€§ã®é•ã„ã«ã‚ˆã£ã¦é€€å‡ºã—ã¦ã„ãäººã‚‚å¤šãã„ã‚‹ã¯ãšã§ã™ãŒã€SmartHRç¤¾ã®å ´åˆã¯ãã‚“ãªã“ã¨ã«ãªã£ã¦ãŠã‚‰ãšã€å˜ç´”ã«ãã®é›°å›²æ°—ãŠã‚ˆã³çµ„ç¹”é‹å–¶ã®æ‰‹æ³•ã«èˆˆå‘³ãŒã‚ã‚Šã¾ã—ãŸ&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;ãªã«ã‚’ã‚„ã£ãŸã‹&quot;&gt;ãªã«ã‚’ã‚„ã£ãŸã‹ï¼Ÿ&lt;/h2&gt;

&lt;p&gt;ä½“é¨“å…¥ç¤¾ã¨ã—ã¦Joinã—ãŸãƒãƒ¼ãƒ ã¯SmartHRæœ¬ä½“ã®é–‹ç™ºã‚’ã™ã‚‹ãƒãƒ¼ãƒ ã§ã—ãŸã€‚ãªã®ã§ä»Šå›ã¯SmartHRæœ¬ä½“ã®ã„ãã¤ã‹ã®æ©Ÿèƒ½æ”¹ä¿®ã‚„ãƒã‚°ä¿®æ­£ã‚’ã‚„ã‚Šã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;åˆæ—¥ã«è¡Œã‚ã‚ŒãŸã‚¹ãƒ—ãƒªãƒ³ãƒˆè¨ˆç”»ã«ä¸€ç·’ã«å‚åŠ ã—ã¦ã€Jiraã®ãƒã‚±ãƒƒãƒˆã‚’ã„ãã¤ã‹ã‚¢ã‚µã‚¤ãƒ³ã—ã¦ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚ã‚¢ã‚µã‚¤ãƒ³ã•ã‚ŒãŸãƒã‚±ãƒƒãƒˆã¯ä¸‹è¨˜ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.e-gov.go.jp/shinsei/&quot;&gt;e-Gové›»å­ç”³è«‹&lt;/a&gt;ã¾ã‚ã‚Šã®æ”¹ä¿®&lt;/li&gt;
  &lt;li&gt;å°ã•ãªãƒã‚°ä¿®æ­£&lt;/li&gt;
  &lt;li&gt;APIã®æ”¹ä¿®&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ã¾ãŸä¸Šè¨˜ã¨ã¯åˆ¥ã«ä¸€é€šã‚Šã®ã‚¹ã‚¯ãƒ©ãƒ ã‚»ãƒ¬ãƒ¢ãƒ‹ãƒ¼ã‚„å…¨ç¤¾å“¡ã‚’å¯¾è±¡ã«è¡Œã£ã¦ã„ã‚‹çµŒå–¶ä¼šè­°å…±æœ‰ä¼šã«ã‚‚å‚åŠ ã•ã›ã¦ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;h2 id=&quot;æˆæœ&quot;&gt;æˆæœ&lt;/h2&gt;

&lt;h3 id=&quot;ä¸€æ—¥ç›®&quot;&gt;ä¸€æ—¥ç›®&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—&lt;/li&gt;
  &lt;li&gt;çµŒå–¶ä¼šè­°å…±æœ‰ä¼šå‚åŠ &lt;/li&gt;
  &lt;li&gt;ã‚¹ãƒ—ãƒªãƒ³ãƒˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã€ã‚¹ãƒ—ãƒªãƒ³ãƒˆãƒ¬ãƒˆãƒ­ã‚¹ãƒšã‚¯ãƒ†ã‚£ãƒ–ã€ã‚¹ãƒ—ãƒªãƒ³ãƒˆè¨ˆç”»ã«å‚åŠ &lt;/li&gt;
  &lt;li&gt;é–‹ç™ºæˆæœ: 1 PR&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;äºŒæ—¥ç›®&quot;&gt;äºŒæ—¥ç›®&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;è² å‚µè¿”æ¸ˆã®ãŸã‚ã®ãƒ¢ãƒ–ãƒ—ãƒ­ä¼šã«å‚åŠ &lt;/li&gt;
  &lt;li&gt;é–‹ç™ºæˆæœ: 2PR&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ä¸‰æ—¥ç›®&quot;&gt;ä¸‰æ—¥ç›®&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;ãƒãƒƒã‚¯ãƒ­ã‚°ãƒªãƒ•ã‚¡ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆã«å‚åŠ &lt;/li&gt;
  &lt;li&gt;é–‹ç™ºæˆæœ: 2PR, 1Merge&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;å››æ—¥ç›®&quot;&gt;å››æ—¥ç›®&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;é–‹ç™ºæˆæœ: 3PR 4Merge&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ç·è©•&quot;&gt;ç·è©•&lt;/h3&gt;

&lt;p&gt;ä¸€éƒ¨æœªãƒãƒ¼ã‚¸ãªPRã‚’æ®‹ã™ã“ã¨ã«ãªã£ã¦ã—ã¾ã£ãŸã‚‚ã®ã®ã€å½“åˆã«ã‚¢ã‚µã‚¤ãƒ³ã•ã‚ŒãŸãƒã‚±ãƒƒãƒˆã¯ã™ã¹ã¦ç€æ‰‹ã™ã‚‹ã“ã¨ãŒã§ããŸç‚¹ã¯è‰¯ã‹ã£ãŸã§ã™ğŸ’ªã€‚çµæœã¨ã—ã¦ã¯ã€å—ã‘å…¥ã‚Œãƒãƒ¼ãƒ ã®æœŸå¾…å€¤ã¨åŒç­‰ã‹ãã‚Œä»¥ä¸Šã®æˆæœã¯æ®‹ã›ãŸã‚ˆã†ã§è‰¯ã‹ã£ãŸã§ã™ğŸ˜„ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ä½“é¨“å…¥ç¤¾ã—ã¦ã¿ã¦ã®æ„Ÿæƒ³&quot;&gt;ä½“é¨“å…¥ç¤¾ã—ã¦ã¿ã¦ã®æ„Ÿæƒ³&lt;/h2&gt;

&lt;h3 id=&quot;é–‹ç™ºç·¨&quot;&gt;é–‹ç™ºç·¨&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¯Wikiã«ã¾ã¨ã‚ã‚‰ã‚Œã¦ãŠã‚ŠWikié€šã‚Šã®æ‰‹é †ã§é€²ã‚ã¦ã„ã‘ã°ã™ã‚“ãªã‚Šæ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒã§ããŸ
    &lt;ul&gt;
      &lt;li&gt;Railsä»¥å¤–ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯DockeråŒ–ã•ã‚Œã¦ãŠã‚Šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¾ã‚ã‚Šã§ãƒãƒã‚‹ã“ã¨ã‚‚ç„¡ã„ã‚ˆã†ã«ãªã£ã¦ã„ã¦è‰¯ã‹ã£ãŸ&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;æ•™ç§‘æ›¸é€šã‚Šã®ã‚¹ã‚¯ãƒ©ãƒ ã‚»ãƒ¬ãƒ¢ãƒ‹ãƒ¼ã‚’å®Ÿæ–½ã—ã¦ãŠã‚Šã€ãã¡ã‚“ã¨ã‚¹ã‚¯ãƒ©ãƒ å›ã—ã¦ã¦å‰ã„ãªãã¨ã„ã†å°è±¡ã§ã—ãŸï¼ˆåƒ•ãŒã‚¹ã‚¯ãƒ©ãƒ ãƒã‚¹ã‚¿ãƒ¼ã£ã½ã„ç«‹ã¡å›ã‚Šã™ã‚‹ã¨ãã¯ã‘ã£ã“ã†ã‚¹ã‚¯ãƒ©ãƒ ã‚»ãƒ¬ãƒ¢ãƒ‹ãƒ¼ã‚µãƒœã£ã¦ã„ã‚‹ã®ã§â€¦ï¼‰&lt;/li&gt;
  &lt;li&gt;è‰¯ã„æ„å‘³ã§ç²›ã€…ã¨ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆé–‹ç™ºã‚’é€²ã‚ã¦ã„ã‚‹å°è±¡ã ã£ãŸ
    &lt;ul&gt;
      &lt;li&gt;ã„ã‚ã‚†ã‚‹ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—ãªã‚­ãƒ©ã‚­ãƒ©ç³»ã‚¤ã‚±ã‚¤ã‚±Webé–‹ç™ºã¨ã„ã†æ„Ÿã˜ã§ã¯ãªã‹ã£ãŸï¼ˆæ±ºã—ã¦æ‚ªã„æ„å‘³ã§ã¯ãªã„ã§ã™ï¼‰&lt;/li&gt;
      &lt;li&gt;ä¸€äººã²ã¨ã‚ŠãŒãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã«å‘ãåˆã„ã€ã‚ªãƒ¼ãƒŠãƒ¼ã‚·ãƒƒãƒ—ã‚’ã‚‚ã£ã¦é–‹ç™ºã«å–ã‚Šçµ„ã‚“ã§ã„ã‚‹&lt;/li&gt;
      &lt;li&gt;å¤§äººãªäººãŒå¤šããã¡ã‚“ã¨å”èª¿ã—ã¦é–‹ç™ºã‚’é€²ã‚ã¦ã„ã‚‹å°è±¡&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ï¼œå€‹äººï¼ã§ã¯ãªãã€ï¼œãƒãƒ¼ãƒ ï¼ã§èª²é¡Œã‚’è§£æ±ºã™ã‚‹å§¿å‹¢ãŒç´ æ™´ã‚‰ã—ã„ã¨æ€ã„ã¾ã—ãŸ&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;ä¾‹ãˆã°ãƒ‡ã‚¹ã‚¯ï¼ˆã‚µãƒ¼ãƒ“ã‚¹ãƒ‡ã‚¹ã‚¯/ãƒ˜ãƒ«ãƒ—ãƒ‡ã‚¹ã‚¯ï¼‰å¯¾å¿œã€ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®å¯¾å¿œã€ãƒªãƒªãƒ¼ã‚¹ä½œæ¥­ãªã©å¿™ã—ãã¦æ‰‹ã‚’ä»˜ã‘ã‚‰ã‚Œãã†ãªäººãŒã„ã‚Œã°ã€æ‰‹ãŒç©ºã„ã¦ã„ã‚‹äººãŒã€Œï¼ˆç§ãŒï¼‰ã‚„ã‚Šã¾ã™ã‚ˆã€ã¨è‡ªç„¶ã«æ‰‹ã‚’æŒ™ã’ã¦å¯¾å¿œã‚’ãƒ‡ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã—ã¦ã„ã£ã¦ã„ã‚‹é›°å›²æ°—ã¯ç´ æ™´ã‚‰ã—ã„ã¨æ„Ÿã˜ã¾ã—ãŸ
        &lt;ul&gt;
          &lt;li&gt;ã“ã‚Œã‚’ãƒãƒ¼ãƒ ã§è‡ªç„¶ã«ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã®ã¯ãã†ç°¡å˜ãªã“ã¨ã§ã¯ãªã„ã®ã§ã€ãƒãƒ¼ãƒ ã¨ã—ã¦æˆç†Ÿã—ã¦ã„ã‚‹è¨¼ã ã¨æ„Ÿã˜ã¾ã—ãŸ&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;åƒ•ã¯ã‚‚ã†ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã—ã¦ã¯ã‚·ãƒ‹ã‚¢ãƒ¬ãƒ™ãƒ«ã ã—ã‚¿ã‚¹ã‚¯ã¯ä¸¸æŠ•ã’ã§ã‚‚å…¨ç„¶æ§‹ã‚ãªã‹ã£ãŸã‘ã©ã€ãã¡ã‚“ã¨è¨ˆç”»ã®æ™‚ç‚¹ã§é–‹ç™ºæ–¹é‡ã¾ã§ã‚ã‚‹ç¨‹åº¦ã‚ãŸã‚Šã‚’ã¤ã‘ã¦è½ã¨ã—è¾¼ã‚“ã§ãã‚ŒãŸãŠé™°ã§ã€ã¨ã¦ã‚‚é–‹ç™ºãŒã‚¹ãƒ ãƒ¼ã‚ºã«é€²ã‚ã‚‰ã‚Œã¾ã—ãŸã€‚å—ã‘å…¥ã‚Œãƒ¡ãƒ³ãƒãƒ¼ã®çš†ã•ã¾ã«ã¯æ„Ÿè¬ã§ã™&lt;/li&gt;
  &lt;li&gt;é–‹ç™ºã®ä¸­ã§ãã¡ã‚“ã¨æŠ€è¡“è² å‚µã‚’æ¸›ã‚‰ã™ã“ã¨ã«ã‚‚å°½åŠ›ã•ã‚Œã¦ã„ã¦è‰¯ã„ãªãã¨æ€ã„ã¾ã—ãŸ
    &lt;ul&gt;
      &lt;li&gt;æŠ€è¡“è² å‚µæ‹…å½“ãƒãƒ¼ãƒ ãŒã‚ã£ãŸã‚ŠæŠ€è¡“è² å‚µè¿”æ¸ˆãƒ¢ãƒ–ãƒ—ãƒ­ï¼ˆwith &lt;a href=&quot;https://twitter.com/netwillnet&quot;&gt;willnet&lt;/a&gt;ã•ã‚“ï¼‰ã¿ãŸã„ãªå–ã‚Šçµ„ã¿ã‚’ã—ã¦ã„ãŸã‚Š&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ç¾åœ¨ã®è¦æ¨¡ã§ã‚‚CTOã®èŠ¹æ¾¤ã•ã‚“ãŒãƒãƒªãƒãƒªã‚³ãƒ¼ãƒ‰æ›¸ã„ã¦ã„ã‚‹é›°å›²æ°—ãŒã‚ã‚Šæ„å¤–ã§ã—ãŸ&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;é–‹ç™ºä»¥å¤–ç·¨&quot;&gt;é–‹ç™ºä»¥å¤–ç·¨&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;é€€è·ç‡ã®ä½ã•ã«ã¤ã„ã¦
    &lt;ul&gt;
      &lt;li&gt;ã‚„ã¯ã‚Šç¬¬ä¸€ã«æ¡ç”¨ã§ã‚«ãƒ«ãƒãƒ£ãƒ¼ãƒãƒƒãƒã™ã‚‹äººã®ã¿ã‚’ãã¡ã‚“ã¨é¸ã‚“ã§æ¡ã£ã¦ã„ã‚‹ç‚¹ãŒå¤§ããã†ã§ã™
        &lt;ul&gt;
          &lt;li&gt;å‚è€ƒ: &lt;a href=&quot;https://smarthr.co.jp/vision&quot;&gt;Mission | æ ªå¼ä¼šç¤¾SmartHR&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;è‰¯ã„ã¨ã“ã‚ã‚‚æ‚ªã„ã¨ã“ã‚ã‚‚ã™ã¹ã¦ã‚ªãƒ¼ãƒ—ãƒ³ã«ã™ã‚‹å§¿å‹¢ãŒç¤¾å“¡ã«éŸ¿ã„ã¦ã„ã‚‹ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹
        &lt;ul&gt;
          &lt;li&gt;çµŒå–¶ä¼šè­°å…±æœ‰ä¼šã§ã¯å‡ºã›ã‚‹æ•°å€¤ã¯è©³ã‚‰ã‹ã«å…¨éƒ¨å‡ºã™&lt;/li&gt;
          &lt;li&gt;çµŒå–¶ä¼šè­°å…±æœ‰ä¼šã®æœ€å¾Œã«ã¯ä»£è¡¨ãƒ»å®®ç”°ã•ã‚“ã¸ã®AMAï¼ˆAsk Me Anythingï¼‰ã‚³ãƒ¼ãƒŠãƒ¼ã¿ãŸã„ãªã®ã‚‚ã‚ã£ã¦è‰¯ã‹ã£ãŸ&lt;/li&gt;
          &lt;li&gt;éƒ½åˆã®æ‚ªã„ã“ã¨ã‚‚å«ã‚ã¦æƒ…å ±ã‚’éš ã•ãªã„ â†’ ç¾å ´ã®ä¸å®‰ãŒå¤‰ã«å¢—å¹…ã™ã‚‹ã“ã¨ã‚‚ãªã„&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;æ™®æ®µã€è‡ªåˆ†ãŒå—ã‘å…¥ã‚Œãƒãƒ¼ãƒ å´ã¨ã—ã¦ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’å®Ÿæ–½ã™ã‚‹ã“ã¨ãŒå¤šã‹ã£ãŸã‘ã©ã€ä»Šå›å—ã‘å…¥ã‚Œã¦ã‚‚ã‚‰ã†å´ã¨ã—ã¦å‚åŠ ã§ãã¦æ–°é®®ã ã£ãŸ&lt;/li&gt;
  &lt;li&gt;ä»Šå›ã®ä½“é¨“å…¥ç¤¾ã§åˆã‚ã¦SmartHRã‚’å®Ÿéš›ã«ä½¿ã‚ã›ã¦ã‚‚ã‚‰ã£ãŸã‘ã©ã€ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã—ãŸã€‚ä¸€åº¦ä½¿ã†ã¨ãŸã¶ã‚“ç´™ã§ã®æå‡ºã¨ã‹é¢å€’ãã•ããªã‚Šã¾ã™ã­ã€‚
    &lt;ul&gt;
      &lt;li&gt;å„ç¤¾ã€SmartHRã®å°å…¥ã‚ˆã‚ã—ãé ¼ã‚€ğŸ™&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;smarthrç¤¾ã«ãƒãƒƒãƒã—ãã†ãªäººã«ã¤ã„ã¦&quot;&gt;SmartHRç¤¾ã«ãƒãƒƒãƒã—ãã†ãªäººã«ã¤ã„ã¦&lt;/h2&gt;

&lt;p&gt;ä½“é¨“å…¥ç¤¾ã—ã¦ã¿ã¦SmartHRç¤¾ã«ãƒãƒƒãƒã—ãã†ãªäººã€é€†ã«ãƒãƒƒãƒã—ãªãã†ã¨æ„Ÿã˜ã‚‹äººã‚’æ›¸ã„ã¦ã¿ã¾ã™ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ãƒãƒƒãƒã—ãã†ãªäºº&quot;&gt;ãƒãƒƒãƒã—ãã†ãªäºº&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;SmartHR ã¨ã„ã†ã‚µãƒ¼ãƒ“ã‚¹ãŒå¥½ããªäºº&lt;/li&gt;
  &lt;li&gt;ä¼šç¤¾ãƒ»ãƒãƒ¼ãƒ ä¸€ä¸¸ã¨ãªã£ã¦ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆä½œã‚Šã‚’ã—ãŸã„äºº&lt;/li&gt;
  &lt;li&gt;Railsã§ã®ã‚µãƒ¼ãƒ“ã‚¹ä½œã‚ŠãŒå¥½ããªäºº&lt;/li&gt;
  &lt;li&gt;ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒå¾—æ„ã€å¥½ããªäºº&lt;/li&gt;
  &lt;li&gt;ã‚ªãƒ¼ãƒ—ãƒ³ãªç¤¾é¢¨ã«å…±æ„Ÿã§ãã‚‹äºº&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ãƒãƒƒãƒã—ãªãã†ãªäºº&quot;&gt;ãƒãƒƒãƒã—ãªãã†ãªäºº&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚ˆã‚Šã‚‚ã‚¨ãƒƒã‚¸ãªæŠ€è¡“ã‚’ã²ãŸã™ã‚‰çªãè©°ã‚ãŸã„ã¨ã„ã†äºº&lt;/li&gt;
  &lt;li&gt;ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚ˆã‚Šã‚‚å­¤ç‹¬ãªä½œæ¥­ãŒå¥½ããªäºº&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;smarthrç¤¾ã¸ã®å¿œå‹Ÿã¯ã“ã¡ã‚‰ã‹ã‚‰&quot;&gt;SmartHRç¤¾ã¸ã®å¿œå‹Ÿã¯ã“ã¡ã‚‰ã‹ã‚‰&lt;/h3&gt;

&lt;p&gt;ä¸Šè¨˜ã®ã€Œãƒãƒƒãƒã—ãã†ãªäººã€ã«ãƒ”ãƒ³ã¨ããŸæ–¹ã¯å¿œå‹Ÿã—ã¦ã¿ã‚‹ã¨è‰¯ã„ã‹ã¨æ€ã„ã¾ã™ï¼&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://smarthr.co.jp/recruit&quot;&gt;Recruit | æ ªå¼ä¼šç¤¾SmartHR&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å­ä¼šç¤¾å‰µæ¥­ãƒ¡ãƒ³ãƒãƒ¼ã‚‚å‹Ÿé›†ã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚&lt;/p&gt;

&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;ja&quot; dir=&quot;ltr&quot;&gt;ãã‚ãã‚èµ·æ¥­ã—ã‚ˆã†ã‹ãªï¼Ÿã¨æ€ã£ã¦ã‚‹ã‘ã©ã€Œå…±åŒå‰µæ¥­è€…ãŒã„ãªã„ã€ã€Œãƒã‚¿ãŒãªã„ã€ã¨ã„ã†ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã•ã‚“ã€SmartHRã®å­ä¼šç¤¾ã®å‰µæ¥­ãƒ¡ãƒ³ãƒãƒ¼ã¨ã—ã¦ä¸€ç™ºå½“ã¦ã¾ã›ã‚“ã‹ï¼Ÿ&lt;br /&gt;&lt;br /&gt;ã„ã¾2ã¤ã®ä¼šç¤¾ãŒã‚ãªãŸã‚’æ±‚ã‚ã¦ã¾ã™ï¼ãŠé‡‘ã®å¿ƒé…ãªãã€äº‹æ¥­ã¨ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã«é›†ä¸­ã§ãã¾ã™ã€‚èˆˆå‘³ã‚ã‚‹æ–¹ãœã²DMãã ã•ã„ï¼&lt;br /&gt;&lt;br /&gt;ï¼ˆç¶šã&lt;/p&gt;&amp;mdash; å®®ç”° æ˜‡å§‹ (@miyasho88) &lt;a href=&quot;https://twitter.com/miyasho88/status/1151047024613236736?ref_src=twsrc%5Etfw&quot;&gt;July 16, 2019&lt;/a&gt;&lt;/blockquote&gt;

&lt;h3 id=&quot;smarthrã«ã¤ã„ã¦ã‚‚ã£ã¨çŸ¥ã‚ŠãŸã„&quot;&gt;SmartHRã«ã¤ã„ã¦ã‚‚ã£ã¨çŸ¥ã‚ŠãŸã„ï¼&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;ã€ŒSmartHRã«ã¤ã„ã¦ã‚‚ã£ã¨çŸ¥ã‚ŠãŸã„ï¼ã€&lt;/strong&gt;ã¨ã„ã†æ–¹ã¯ã“ã¡ã‚‰ã‚‚ã©ã†ãã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://shanaiho.smarthr.co.jp/&quot;&gt;SmartHRã‚ªãƒ¼ãƒ—ãƒ³ç¤¾å†…å ±&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://tech.smarthr.jp/&quot;&gt;SmartHR Tech Blog&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.shojimiyata.com/&quot;&gt;å®®ç”°æ˜‡å§‹ã®ãƒ–ãƒ­ã‚°&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;æœ€å¾Œã«&quot;&gt;æœ€å¾Œã«&lt;/h2&gt;

&lt;p&gt;ä»–ç¤¾ã®ã‚¹ã‚¯ãƒ©ãƒ ãƒ»ã‚¹ãƒ—ãƒªãƒ³ãƒˆã‚’çµŒé¨“ã™ã‚‹ã®ã¯ãªã‹ãªã‹ãªã„è²´é‡ãªæ©Ÿä¼šãªã®ã§ã€ãã‚Œã‚’ä¸€é€šã‚Šä½“é¨“ã§ããŸã®ã¯ã¨ã¦ã‚‚è‰¯ã‹ã£ãŸã§ã™ã€‚å—ã‘å…¥ã‚Œã¦ã„ãŸã ã„ãŸSmartHRã•ã‚“ã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼&lt;/p&gt;</content><author><name>Toshimaru</name></author><category term="tech" /><category term="rails" /><summary type="html">ä½“é¨“å…¥ç¤¾ã—ã¦ã¾ã™ pic.twitter.com/f2Ga5LE5Es&amp;mdash; toshimaru (@toshimaru_e) July 11, 2019</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://blog.toshimaru.net/images/posts/smarthr.jpeg" /><media:content medium="image" url="https://blog.toshimaru.net/images/posts/smarthr.jpeg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Roppongi.rb#8ã§ã€ŒMake Rails Documents SEO(Search Engine Optimized)ã€ã‚’ç™ºè¡¨ã—ã¾ã—ãŸ</title><link href="https://blog.toshimaru.net/make-rails-documents-seo-search-engine-optimized/" rel="alternate" type="text/html" title="Roppongi.rb#8ã§ã€ŒMake Rails Documents SEO(Search Engine Optimized)ã€ã‚’ç™ºè¡¨ã—ã¾ã—ãŸ" /><published>2019-02-25T00:00:00+09:00</published><updated>2019-02-27T00:00:00+09:00</updated><id>https://blog.toshimaru.net/make-rails-documents-seo-search-engine-optimized</id><content type="html" xml:base="https://blog.toshimaru.net/make-rails-documents-seo-search-engine-optimized/">&lt;p&gt;&lt;a href=&quot;https://roppongirb.connpass.com/event/118218/&quot;&gt;Roppongi.rb #8&lt;/a&gt;ã«ã¦ã€ŒMake Rails Documents SEO(Search Engine Optimized)ã€ã¨é¡Œã—ã¦ç™ºè¡¨ã—ã¦ããŸã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç™ºè¡¨ã‚¹ãƒ©ã‚¤ãƒ‰&quot;&gt;ç™ºè¡¨ã‚¹ãƒ©ã‚¤ãƒ‰&lt;/h2&gt;

&lt;script async=&quot;&quot; class=&quot;speakerdeck-embed&quot; data-id=&quot;2238d7f3d662436b943b125a7b10fec1&quot; data-ratio=&quot;1.77777777777778&quot; src=&quot;//speakerdeck.com/assets/embed.js&quot;&gt;&lt;/script&gt;

&lt;h2 id=&quot;railsdocgithubio&quot;&gt;railsdoc.github.io&lt;/h2&gt;

&lt;p&gt;ç™ºè¡¨ã§ã¯åƒ•ãŒéå»ã«è¡Œã£ãŸã„ãã¤ã‹ã®Railså…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®SEOå¯¾å¿œã®ç´¹ä»‹ã¨ã¨ã‚‚ã«ã€ç¾åœ¨é€²ã‚ã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹&lt;a href=&quot;https://railsdoc.github.io/&quot;&gt;railsdoc.github.io&lt;/a&gt;ã‚’ç´¹ä»‹ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;GitHub: &lt;a href=&quot;https://github.com/railsdoc/railsdoc.github.io&quot;&gt;railsdoc/railsdoc.github.io: Rails API Documentation.&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;railsdocgithubioã®ã‚´ãƒ¼ãƒ«&quot;&gt;railsdoc.github.ioã®ã‚´ãƒ¼ãƒ«&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://api.rubyonrails.org/&quot;&gt;api.rubyonrails.org&lt;/a&gt;ã‚’SEOå¼·ãã™ã‚‹&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://api.rubyonrails.org/&quot;&gt;api.rubyonrails.org&lt;/a&gt;ã‚’ä½¿ã„ã‚„ã™ãã™ã‚‹&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸‹è¨˜ã¯ã¤ã„ã§ã«ã§ãã‚‹ã¨è‰¯ã„ãªãƒ¼ã¨è€ƒãˆã¦ã„ã‚‹ã“ã¨ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ãƒ•ãƒ­ãƒ³ãƒˆã®æŠ€è¡“ã‚’å°‘ã—ã ã‘ãƒ¢ãƒ€ãƒ³ã«
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://getbootstrap.com/&quot;&gt;bootstrap&lt;/a&gt;ã‚’ä½¿ã£ã¦ãƒ‡ã‚¶ã‚¤ãƒ³æ§‹æˆã—ã‚„ã™ãã™ã‚‹&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;GitHubã¨ã„ã„æ„Ÿã˜ã®é€£æº&lt;/li&gt;
  &lt;li&gt;AMPå¯¾å¿œã‚‚ã§ãã‚‹ã¨è‰¯ã•ãã†&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;railsdocgithubioã®ä»Šå¾Œ&quot;&gt;railsdoc.github.ioã®ä»Šå¾Œ&lt;/h2&gt;

&lt;p&gt;ç™ºè¡¨å†…ã§ç´¹ä»‹ã—ãŸãŒä»Šå¾Œã«ã¤ã„ã¦ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«è€ƒãˆã¦ã„ã‚‹ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹æ•´å‚™ä¸­ &amp;amp; æœªå®Ÿè£…ç®‡æ‰€ã®å®Ÿè£…&lt;/li&gt;
  &lt;li&gt;folkç‰ˆsdocã˜ã‚ƒãªã„ç‹¬è‡ªã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆgemã‚’ä½œã‚ŠãŸã„&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ç´¹ä»‹ã—ãŸprissue&quot;&gt;ç´¹ä»‹ã—ãŸPR/Issue&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/rails/weblog/pull/88&quot;&gt;Introduce jekyll-seo-tag by toshimaru Â· Pull Request #88 Â· rails/weblog&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/rails/homepage/pull/73&quot;&gt;Add Jekyll SEO tag and Jekyll sitemap by benbalter Â· Pull Request #73 Â· rails/homepage&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/rails/rails/pull/34860&quot;&gt;Make Ruby on Rails Guides SNS-friendly by toshimaru Â· Pull Request #34860 Â· rails/rails&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/rails/rails/issues/27633&quot;&gt;No Rails 5 in apidock.com/rails Â· Issue #27633 Â· rails/rails&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ç´¹ä»‹ã—ãŸrailså…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ&quot;&gt;ç´¹ä»‹ã—ãŸRailså…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;rubyonrails.org&quot;&gt;rubyonrails.org&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;weblog.rubyonrails.org&quot;&gt;weblog.rubyonrails.org&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;guides.rubyonrails.org&quot;&gt;guides.rubyonrails.org&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;api.rubyonrails.org&quot;&gt;api.rubyonrails.org&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;ãã®ä»–&quot;&gt;ãã®ä»–&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;ç™ºè¡¨ã«ã¯&lt;a href=&quot;https://www.deckset.com/&quot;&gt;Deckset 2&lt;/a&gt;ã‚’ä½¿ã£ãŸï¼ˆãšã£ã¨Deckset1ä½¿ã£ã¦ãŸã‘ã©2ã«Updateã—ãŸï¼‰&lt;/li&gt;
  &lt;li&gt;ä½•ã‹ã‚ã‚Œã°ã‚¤ã‚·ãƒ¥ãƒ¼ã«æ›¸ã„ã¦ã»ã—ã„ &lt;a href=&quot;https://github.com/railsdoc/railsdoc.github.io/issues&quot;&gt;github.com/railsdoc/railsdoc.github.io/issues&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Toshimaru</name></author><category term="presentation" /><category term="seo" /><category term="rails" /><summary type="html">Roppongi.rb #8ã«ã¦ã€ŒMake Rails Documents SEO(Search Engine Optimized)ã€ã¨é¡Œã—ã¦ç™ºè¡¨ã—ã¦ããŸã€‚</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://blog.toshimaru.net/images/posts/roppongirb8/og.png" /><media:content medium="image" url="https://blog.toshimaru.net/images/posts/roppongirb8/og.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Rails E2Eãƒ†ã‚¹ãƒˆã§ poltergeist ã‹ã‚‰ Headless Chrome ã¸ã¨ä¹—ã‚Šæ›ãˆã‚‹</title><link href="https://blog.toshimaru.net/poltergeist-to-selenium-webdriver/" rel="alternate" type="text/html" title="Rails E2Eãƒ†ã‚¹ãƒˆã§ poltergeist ã‹ã‚‰ Headless Chrome ã¸ã¨ä¹—ã‚Šæ›ãˆã‚‹" /><published>2018-08-04T00:00:00+09:00</published><updated>2019-09-17T00:00:00+09:00</updated><id>https://blog.toshimaru.net/poltergeist-to-selenium-webdriver</id><content type="html" xml:base="https://blog.toshimaru.net/poltergeist-to-selenium-webdriver/">&lt;p&gt;Railsã®Capybaraã‚’ä½¿ã£ãŸE2Eãƒ†ã‚¹ãƒˆ(feature spec)ã‚’ã“ã®åº¦ã€&lt;a href=&quot;https://github.com/teampoltergeist/poltergeist&quot;&gt;poltergeist&lt;/a&gt;ã‹ã‚‰&lt;a href=&quot;https://chromium.googlesource.com/chromium/src/+/master/headless/README.md&quot;&gt;Headless Chrome&lt;/a&gt;ã«ä¹—ã‚Šæ›ãˆã¦ã¿ãŸã®ã§ãã®ã¨ãã®ãƒ¡ãƒ¢ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å¯¾å¿œ-pull-request&quot;&gt;å¯¾å¿œ Pull Request&lt;/h2&gt;

&lt;p&gt;ä»Šå›å¯¾å¿œã—ãŸPull Requestã¯ã“ã¡ã‚‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/toshimaru/RailsTwitterClone/pull/211&quot;&gt;Use headless Chrome instead of PhantomJS(poltergeist) by toshimaru Â· Pull Request #211 Â· toshimaru/RailsTwitterClone Â· GitHub&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æ€ã£ãŸã‚ˆã‚Šã‚‚å·®åˆ†ã¯ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã«ã¾ã¨ã¾ã‚Šã¾ã—ãŸã€‚&lt;/p&gt;

&lt;h2 id=&quot;install-selenium-webdriver&quot;&gt;Install selenium-webdriver&lt;/h2&gt;

&lt;p&gt;ã¾ãšã¯&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;poltergeist&lt;/code&gt; gemã®ä»£ã‚ã‚Šã«ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;selenium-webdriver&lt;/code&gt;ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚&lt;/p&gt;

&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gd&quot;&gt;-  gem &quot;poltergeist&quot;
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+  gem &quot;selenium-webdriver&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;change-capybarajavascript_driver&quot;&gt;Change Capybara.javascript_driver&lt;/h2&gt;

&lt;p&gt;æ¬¡ã«&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Capybara.javascript_driver&lt;/code&gt;ã‚’&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:poltergeist&lt;/code&gt;ã‹ã‚‰&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:selenium_chrome_headless&lt;/code&gt;ã«å¤‰æ›´ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-diff highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gd&quot;&gt;- require &quot;capybara/poltergeist&quot;
- Capybara.javascript_driver = :poltergeist
&lt;/span&gt;&lt;span class=&quot;gi&quot;&gt;+ require &quot;selenium-webdriver&quot;
+ Capybara.javascript_driver = :selenium_chrome_headless
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ã¡ãªã¿ã«&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;:selenium_chrome_headless&lt;/code&gt;ã®è¨­å®šã¯ä¸‹è¨˜ã®å¤‰æ›´ã®ä¸­ã§capybaraå†…ã«å–ã‚Šè¾¼ã¾ã‚Œã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rb highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;Capybara&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;register_driver&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:selenium_chrome_headless&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;browser_options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Selenium&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;WebDriver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Chrome&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;browser_options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;args&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'--headless'&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;browser_options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;args&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'--disable-gpu'&lt;/span&gt;
  &lt;span class=&quot;no&quot;&gt;Capybara&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Selenium&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Driver&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;browser: :chrome&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;options: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;browser_options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;via. &lt;a href=&quot;https://github.com/teamcapybara/capybara/commit/0275eab42c610cd1ccde7947b051d0b00857b9ce&quot;&gt;add default selenium chrome driver registrations Â· teamcapybara/capybara@0275eab Â· GitHub&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;install-chromedriver&quot;&gt;Install chromedriver&lt;/h2&gt;

&lt;h3 id=&quot;on-macos&quot;&gt;On MacOS&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;chromedriver&lt;/code&gt; ãŒå¿…è¦ã«ãªã£ã¦ãã‚‹ãŒã€Macã®å ´åˆã¯brewã§å…¥ã‚Œã¡ã‚ƒã†ã®ãŒä¸€ç•ªãƒ©ã‚¯ã§ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;brew cask &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;chromedriver
&lt;span class=&quot;go&quot;&gt;Updating Homebrew...
&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;==&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;Auto-updated Homebrew!
&lt;span class=&quot;go&quot;&gt;Updated 1 tap (homebrew/cask).
No changes to formulae.

&lt;/span&gt;&lt;span class=&quot;gp&quot;&gt;==&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;Satisfying dependencies
&lt;span class=&quot;gp&quot;&gt;==&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;Downloading https://chromedriver.storage.googleapis.com/2.41/chromedriver_mac64.zip
&lt;span class=&quot;gp&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;####################################################################### 100.0%&lt;/span&gt;
&lt;span class=&quot;gp&quot;&gt;==&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;Verifying checksum &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;Cask chromedriver
&lt;span class=&quot;gp&quot;&gt;==&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;Installing Cask chromedriver
&lt;span class=&quot;gp&quot;&gt;==&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;Extracting nested container chromedriver
&lt;span class=&quot;gp&quot;&gt;==&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;Linking Binary &lt;span class=&quot;s1&quot;&gt;'chromedriver'&lt;/span&gt; to &lt;span class=&quot;s1&quot;&gt;'/usr/local/bin/chromedriver'&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;go&quot;&gt;ğŸº  chromedriver was successfully installed!
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;æ³¨æ„äº‹é …&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;brew install chromedriver&lt;/code&gt;ã§ã¯installã§ããªã„ã®ã§æ³¨æ„ï¼ˆ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;brew cask&lt;/code&gt;çµŒç”±ã«ã™ã‚‹ã“ã¨ï¼‰&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;chromedriver-helper&lt;/code&gt; gem ãŒå…¥ã£ã¦ã„ã‚‹ã¨ã†ã¾ãå‹•ã‹ãªã„å ´åˆãŒã‚ã‚‹ã®ã§æ³¨æ„&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;on-circleci&quot;&gt;On CircleCI&lt;/h3&gt;

&lt;p&gt;CircleCIä¸Šã§ã¯ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ruby:x.x-node-browsers&lt;/code&gt;ã®CircleCIå…¬å¼Ruby Dokcer Imageã‚’ä½¿ã£ã¦ã„ã‚Œã°ãã¡ã‚“ã¨å‹•ä½œã—ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;na&quot;&gt;docker&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;image&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;circleci/ruby:2.5-node-browsers&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸Šè¨˜ã®è¨­å®šã®å ´åˆã€Ruby2.5ã®node-browsersãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h3 id=&quot;on-travisci&quot;&gt;On TravisCI&lt;/h3&gt;

&lt;p&gt;ã“ã‚ŒãŒä»Šå›ã®å¯¾å¿œã§ä¸€ç•ªãƒãƒã£ãŸè¨­å®šã§ã—ãŸã€‚ã„ã‚ã„ã‚è©¦ã—ã¾ã—ãŸãŒä¸‹è¨˜ã®ã‚¨ãƒ©ãƒ¼ãŒãªã‹ãªã‹è§£æ±ºã§ãã¾ã›ã‚“ã§ã—ãŸã€‚&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Failures:

  1) Authentication authorization screenshot
     Failure/Error: before { visit signin_path }

     Selenium::WebDriver::Error::WebDriverError:
        Unable to find Mozilla geckodriver. Please download the server from https://github.com/mozilla/geckodriver/releases and place it somewhere on your PATH. More info at https://developer.mozilla.org/en-US/docs/Mozilla/QA/Marionette/WebDriver.
     # ./spec/features/authentication_pages_spec.rb:9:in `block (3 levels) in &amp;lt;top (required)&amp;gt;'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;del&gt;æœ¬å½“ã¯&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo: false&lt;/code&gt;ã®è¨­å®šã§å‹•ã‹ã—ãŸã‹ã£ãŸã®ã§ã™ãŒãã‚Œã ã¨ä¸Šæ‰‹ãã„ã‹ãªã‹ã£ãŸã®ã§&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo&lt;/code&gt;ã§èµ·å‹•ã•ã›ã¦&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;chromium-chromedriver&lt;/code&gt;ã‚’ãƒ†ã‚¹ãƒˆå‰ã«Installã—ã¦ãƒ‘ã‚¹ã‚’é€šã™ã¨ã„ã†æ–¹æ³•ã§ãƒ†ã‚¹ãƒˆã‚’é€šã—ã¾ã—ãŸã€‚&lt;/del&gt;&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;required&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;language&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;ruby&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;before_install&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;sudo apt-get install -y chromium-chromedriver&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;ln -s /usr/lib/chromium-browser/chromedriver ~/bin/chromedriver&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;del&gt;(ã‚‚ã†å°‘ã—ã‚¹ãƒãƒ¼ãƒˆãªã‚„ã‚Šæ–¹ã‚’ã”å­˜çŸ¥ã®æ–¹ã¯æ•™ãˆã¦ã„ãŸã ã‘ã‚‹ã¨å¬‰ã—ã„ã§ã™ğŸ™)&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¿½è¨˜ï¼ˆ2019å¹´9æœˆ17æ—¥ï¼‰&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo&lt;/code&gt; ç„¡ã—ã§ã‚‚ä¸‹è¨˜ã®ã‚ˆã†ãªè¨­å®šã§ã„ã‘ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;div class=&quot;language-yml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;bionic&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;addons&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;chrome&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;stable&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;apt&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;packages&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;chromium-chromedriver&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å‚è€ƒPull Request: &lt;a href=&quot;https://github.com/toshimaru/RailsTwitterClone/pull/524/files&quot;&gt;No sudo on TravisCI by toshimaru Â· Pull Request #524 Â· toshimaru/RailsTwitterClone&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒãƒªãƒ³ã‚¯&quot;&gt;å‚è€ƒãƒªãƒ³ã‚¯&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://ohbarye.hatenablog.jp/entry/2018/03/10/232300&quot;&gt;PhantomJS + Poltergeist ã‚’ Selenium + Headless Chrome ã§ç½®ãæ›ãˆã‚‹ (1) Rails + Capybara ã«ã‚ˆã‚‹ feature spec ç·¨ - valid,invalid&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://tech.speee.jp/entry/2017/06/15/135636&quot;&gt;RSpec ã® feature spec ã§ãƒ˜ãƒƒãƒ‰ãƒ¬ã‚¹ Chrome ã‚’ä½¿ã† - Speee DEVELOPER BLOG&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://y-yagi.tumblr.com/post/166831012790/rails%E9%9B%91%E3%81%ABsystem-test%E3%81%A7headless-chrome%E3%82%92%E4%BD%BF%E3%81%86&quot;&gt;[Rails]é›‘ã«System Testã§Headless Chromeã‚’ä½¿ã† | æ—¥ã€…é›‘è¨˜&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Toshimaru</name></author><category term="rails" /><category term="rspec" /><category term="chrome" /><summary type="html">Railsã®Capybaraã‚’ä½¿ã£ãŸE2Eãƒ†ã‚¹ãƒˆ(feature spec)ã‚’ã“ã®åº¦ã€poltergeistã‹ã‚‰Headless Chromeã«ä¹—ã‚Šæ›ãˆã¦ã¿ãŸã®ã§ãã®ã¨ãã®ãƒ¡ãƒ¢ã€‚</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://blog.toshimaru.net/images/posts/chromedriver.jpg" /><media:content medium="image" url="https://blog.toshimaru.net/images/posts/chromedriver.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry></feed>