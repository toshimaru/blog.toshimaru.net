<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.1">Jekyll</generator><link href="https://blog.toshimaru.net/feed/by_tag/facebook.xml" rel="self" type="application/atom+xml" /><link href="https://blog.toshimaru.net/" rel="alternate" type="text/html" /><updated>2023-01-30T10:44:39+09:00</updated><id>https://blog.toshimaru.net/feed/by_tag/facebook.xml</id><title type="html">Hack Your Design!</title><subtitle>toshimaruの技術系なブログ</subtitle><author><name>Toshimaru</name></author><entry><title type="html">開発者がfacebook「いいね！」ボタン設置時に注意すべきこと</title><link href="https://blog.toshimaru.net/facebook/" rel="alternate" type="text/html" title="開発者がfacebook「いいね！」ボタン設置時に注意すべきこと" /><published>2013-04-16T00:00:00+09:00</published><updated>2013-04-16T00:00:00+09:00</updated><id>https://blog.toshimaru.net/facebook</id><content type="html" xml:base="https://blog.toshimaru.net/facebook/"><![CDATA[<p>Facebookの<a href="https://developers.facebook.com/docs/reference/plugins/like/">いいね！ボタン</a>設置をする際に、いくつか注意すべき点がありますのでまとめます。</p>

<h2 id="設置方法について">設置方法について</h2>

<p>設置方法に関してはいろんなページで紹介されているので、その手順に従えばOKです。</p>

<p><a href="http://www.facebook-japan.com/iine.html">「いいね！」ボタンを設置しよう</a></p>

<p>注意すべきはhtml5の設置コードだとIEの古いブラウザで動かない場合があるので、Iframeを使うところでしょうか。（ただし機能に制限あり）</p>

<h2 id="shareボタンとはなんだ">Shareボタンとはなんだ?</h2>
<p>もうほとんどのサイトで見かけませんが一部の古いサイトでは、Likeボタンではなく、Shareボタンというのを見かけました。ですが本ボタンはもう<strong>廃止予定なので使わないでください。</strong>公式ページでも「We deprecated the Share Button when we launched the Like button」（いいねボタンを作ったときにシェアボタンは廃止したよ！）と説明されています。</p>

<h2 id="ogタグとはなんだ">OGタグとはなんだ？</h2>
<p>OGタグ、つまりオープングラフタグとはウェブページがオープングラフの情報を持つために付加されるメタデータです。オープングラフとは、例えば「太郎さんが◯◯というウェブページでいいねボタンを押した」といったときの、◯◯に入る規格化された情報を示します。オープングラフについては詳しくは公式の「<a href="http://ogp.me/">The Open Graph protocol</a>」を見てみてください。</p>

<p>OGタグとは具体的に下記のようにhtmlのheadタグ内のmetaタグとして表現されます。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;head&gt;
&lt;title&gt;The Rock (1996)&lt;/title&gt;
&lt;meta property="og:title" content="The Rock" /&gt;
&lt;meta property="og:type" content="video.movie" /&gt;
&lt;meta property="og:url" content="http://www.imdb.com/title/tt0117500/" /&gt;
&lt;meta property="og:image" content="http://ia.media-imdb.com/images/rock.jpg" /&gt;
...
&lt;/head&gt;
</code></pre></div></div>

<h2 id="いいねボタンのデバッグツールを使おう">いいねボタンのデバッグツールを使おう！</h2>
<p>開発者おなじみだと思いますが。こちらを使ってOGタグのテストをしましょう。</p>

<p><a href="https://developers.facebook.com/tools/debug">Debugger</a></p>

<p>※私が設置したサイトはたまたま海外IP判定を行なっていたのでFacebook側がうまくOGタグを認識してくれませんでした。FacebookサーバからOGタグが読み込めるように海外facebook IPは許可しておきましょう。</p>

<h2 id="ボタンのテストにはテストユーザを使おう">ボタンのテストにはテストユーザを使おう！</h2>

<p>テストの度に自分のプライベートアカウントを使うのはイヤですよね。そんなときは公式で提供されているテストユーザ作成サービスを使いましょう。詳しくは下記。</p>

<p><a href="http://www.koikikukan.com/archives/2011/09/11-013333.php">Facebookがテストユーザー作成・編集画面をリリース</a></p>

<h2 id="ボタン押したときに承認が出てきた">ボタン押したときに「承認」が出てきた</h2>
<p>いいねをテストしまっくてたら「承認」ボタンが表示されるようになりました。この例は下記でレポートされているようにけっこう根が深い問題です。</p>

<blockquote>
  <p>その「承認」ボタンは、最近の導入した「いいね」ボタンに対する”like-jacking attack” への対応の一環です。ボタンの使われ方などを基準に、ボタンの設置ページで”like-jacking”が発生してることが推測された場合に、「承認」のステップが入ることになります。</p>

  <p><a href="http://blog.bricoleur.in/archives/1216">facebookの「いいね」ボタンに「承認」が必要となるケースについて</a></p>
</blockquote>

<p>facebook側は”like-jacking attack”が発生している可能性があるサイトをプログラムで自動検出して、「承認」ボタンを表示させているようです。</p>

<p>そしてこの「承認」ボタンはマニュアルでの解除依頼は受け付けていないようです。つまり「うちのサイトはスパムじゃないから承認ボタンは消してくれ！」とfacebookに依頼しても取り合ってはくれない、ということです。</p>

<p>上記でテストユーザを使えばいくらテストしても大丈夫なんでしょうか。それともいいねを取り消せばOKなのでしょうか。いずれにしても”like-jacking attack”と判定されうるような行動は避けたほうがよさそうです。</p>]]></content><author><name>Toshimaru</name></author><category term="facebook" /><summary type="html"><![CDATA[Facebookのいいね！ボタン設置をする際に、いくつか注意すべき点がありますのでまとめます。]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://blog.toshimaru.net/images/posts/facebook.png" /><media:content medium="image" url="https://blog.toshimaru.net/images/posts/facebook.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry></feed>