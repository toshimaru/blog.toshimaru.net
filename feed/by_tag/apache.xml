<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.1">Jekyll</generator><link href="https://blog.toshimaru.net/feed/by_tag/apache.xml" rel="self" type="application/atom+xml" /><link href="https://blog.toshimaru.net/" rel="alternate" type="text/html" /><updated>2023-01-21T02:29:31+09:00</updated><id>https://blog.toshimaru.net/feed/by_tag/apache.xml</id><title type="html">Hack Your Design!</title><subtitle>toshimaruの技術系なブログ</subtitle><author><name>Toshimaru</name></author><entry><title type="html">Apache ＆ Perl でhello world する(CentOS 6)</title><link href="https://blog.toshimaru.net/apacheperl-hello-world-centos-6/" rel="alternate" type="text/html" title="Apache ＆ Perl でhello world する(CentOS 6)" /><published>2012-10-14T00:00:00+09:00</published><updated>2012-10-14T00:00:00+09:00</updated><id>https://blog.toshimaru.net/apacheperl-hello-world-centos-6</id><content type="html" xml:base="https://blog.toshimaru.net/apacheperl-hello-world-centos-6/"><![CDATA[<p>「え？　今更パール？」って感じですが動かす機会があったのでメモっとく。</p>
<h3>前提</h3>
<ul>
<li>CentOS 6.3 (さくらVPS)</li>
<li>apache + mod_perl</li>
<li>目標はURIアクセスして「hello world」を出力するまで</li>
</ul>
<h3>apache</h3>
<p>まずはapacheから。</p>
<div class="CodeRay">
  <div class="code"><pre># yum install httpd.x86_64
# service httpd start
Starting httpd:                                            [  OK  ]</pre></div>
</div>

<p>index.html を設置。</p>
<div class="CodeRay">
  <div class="code"><pre># cd /var/www/html/
# ll
total 0
# vim index.html</pre></div>
</div>

<p>適当にこんな感じで。</p>
<div class="CodeRay">
  <div class="code"><pre>&lt;html&gt;
&lt;body&gt;
hello world!
&lt;/body&gt;
&lt;/html&gt;</pre></div>
</div>

<p>HTTPアクセスします。</p>
<p>hello world の画面が出てくればOK. 次はapache にperlの設定をしていきます。</p>
<h3>mod_perl</h3>
<p>perlモジュールインストール。</p>
<div class="CodeRay">
  <div class="code"><pre># yum install mod_perl.x86_64</pre></div>
</div>

<p>次はapacheの設定</p>
<div class="CodeRay">
  <div class="code"><pre># vim /etc/httpd/conf/httpd.conf</pre></div>
</div>

<p>AddHandler追加。</p>
<div class="CodeRay">
  <div class="code"><pre>AddHandler cgi-script .cgi .pl</pre></div>
</div>

<p>DirecctoryにExecCGIのオプション追加。</p>
<div class="CodeRay">
  <div class="code"><pre>Options Indexes FollowSymLinks +ExecCGI</pre></div>
</div>

<p>リスタート。</p>
<div class="CodeRay">
  <div class="code"><pre># service httpd restart
Stopping httpd:                                            [  OK  ]
Starting httpd:                                            [  OK  ]
# vim index.pl</pre></div>
</div>

<p>perlを書く。</p>
<div class="CodeRay">
  <div class="code"><pre>#!/usr/bin/perl

print &quot;Content-type:text/html\n\n&quot;;
print 'hello world';</pre></div>
</div>

<p>どうやらポイントは</p>
<ul>
<li>シェバンをつけること。</li>
<li>HTTPレスポンスとして返すのでHTTPレスポンスヘッダ,Content-typeを出力すること。</li>
</ul>
<p>のようです。</p>
<p>再アクセス。「Internal Server Error」。エラーログはこう。</p>
<div class="CodeRay">
  <div class="code"><pre>(13)Permission denied: exec of '/var/www/html/index.pl' failed</pre></div>
</div>

<p>所有者をapacheにして実行権限を持たせてやる。</p>
<div class="CodeRay">
  <div class="code"><pre># chown apache:apache index.pl
# chmod 744 index.pl</pre></div>
</div>

<p>再アクセス。これにてperlで、hello world が確認できました。めでたしめでたし。</p>]]></content><author><name>Toshimaru</name></author><category term="perl" /><category term="apache" /><summary type="html"><![CDATA[「え？　今更パール？」って感じですが動かす機会があったのでメモっとく。 前提 CentOS 6.3 (さくらVPS) apache + mod_perl 目標はURIアクセスして「hello world」を出力するまで apache まずはapacheから。 # yum install httpd.x86_64 # service httpd start Starting httpd: [ OK ]]]></summary></entry><entry><title type="html">Apache上にSVNレポジトリを作成する</title><link href="https://blog.toshimaru.net/linuxsvn/" rel="alternate" type="text/html" title="Apache上にSVNレポジトリを作成する" /><published>2011-11-27T00:00:00+09:00</published><updated>2011-11-27T00:00:00+09:00</updated><id>https://blog.toshimaru.net/linuxsvn</id><content type="html" xml:base="https://blog.toshimaru.net/linuxsvn/"><![CDATA[<h3>前提</h3>

<ul>
<li>OS: Ubuntu Server</li>
<li>すでにapacheインストール済み</li>
</ul>


<h3>手順</h3>

<p>1.サブバージョン、apacheのSVNモジュールをインストール</p>

<div class="CodeRay">
  <div class="code"><pre>sudo apt-get install subversion libapache2-svn</pre></div>
</div>


<p>2./etc/apache2/sites-available/default に下記を追加。その後apacheを再起動。</p>

<div class="CodeRay">
  <div class="code"><pre>&lt;Location &quot;/svn/repos&quot;&gt;
   DAV svn                      # Subversionを使う
   SVNPath /usr/local/svn/repos # リポジトリへのパス
&lt;/Location&gt;</pre></div>
</div>


<p>3.レポジトリを初期化。権限も設定。</p>

<div class="CodeRay">
  <div class="code"><pre>mkdir /usr/local/svn
mkdir /usr/local/svn/repos
svnadmin create /usr/local/svn/repos
chown -R www-data:www-data /usr/local/svn/repos</pre></div>
</div>


<p>4.レポジトリのURLを叩いて &ldquo;repos &ndash; Revision 0: /&rdquo; で閲覧できることを確認。</p>

<p>5.確認できたら、レポジトリにファイルを登録してみる。</p>

<div class="CodeRay">
  <div class="code"><pre>svn import [登録するファイル/ディレクトリへのパス] リポジトリのURL</pre></div>
</div>


<p>ここでこんなエラー。</p>

<blockquote class="posterous_medium_quote"><p>svn: コミットに失敗しました (詳しい理由は以下のとおりです):
svn: ログメッセージを取得するのに外部エディタを使えませんでした。$SVN_EDITOR 環境変数を設定するか、&mdash;message (-m) か &mdash;file (-F) オプションを用いてみてください
svn: 環境変数 SVN_EDITOR、VISUAL、EDITOR のどれも設定されていなく、実行時の設定オプション &lsquo;editor-cmd&rsquo; も見つかりません</p></blockquote>

<p>これに対しては下記のようにエディタを登録しておく。</p>

<div class="CodeRay">
  <div class="code"><pre>export SVN_EDITOR=&quot;vi&quot;</pre></div>
</div>


<p>6.コミットメッセージを入れて登録完了。"Committed revision 1.&ldquo;が表示されます。</p>

<h3>参考</h3>

<ul>
<li><a href="http://www.cozmixng.org/~kou/linux/svn">http://www.cozmixng.org/~kou/linux/svn</a></li>
</ul>]]></content><author><name>Toshimaru</name></author><category term="apache" /><category term="svn" /><summary type="html"><![CDATA[前提]]></summary></entry></feed>